(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5780],{59746:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return W}});var n=t(92809),s=t(30266),i=t(809),o=t.n(i),a=t(11163),c=t(74891),l=t(9008),u=t(80318),p=t(10219),f=t(67294),d=t(26270),j=t(77854),x=t(89e3),h=t(66037),m=t(70052),y=t(16434),b=t(2212),O=t(20181),w=t(85893),g=["data"];function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function N(e){var r=e.data,t=(0,p.Z)(e,g),n=(0,O.m$)(),s=(0,u.Z)(n,1)[0],i=function(){return(0,w.jsx)(j.V,{center:!0,children:(0,w.jsx)("div",{className:"mt-6 w-24 pb-4 m-auto flex justify-center",children:(0,w.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"#6E67B6",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:s?"#231E58":"#F3F2FF",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},o=(0,f.useMemo)((function(){return r?Math.ceil(Math.sqrt(r.length)):1}),[r]);return(0,w.jsxs)(d.Xz,{gl:{antialias:!0},camera:{position:[0,3*o,0]},children:[(0,w.jsxs)(f.Suspense,{fallback:(0,w.jsx)(i,{}),children:[(0,w.jsx)("group",{children:r?(0,w.jsx)(x.M,{children:r.map((function(e,r){return(0,w.jsx)("group",{"rotation-z":b.MathUtils.degToRad(b.MathUtils.randFloat(-20,20)),position:[r%o*4,0,4*Math.floor(r/o)],children:(0,w.jsx)(y.Z,P({},e))},"gemstone-"+e.type+"-"+r)}))}):(0,w.jsx)(x.M,{"rotation-z":b.MathUtils.degToRad(20),children:(0,w.jsx)(y.Z,P({},t))})}),(0,w.jsx)(h.z,{}),(0,w.jsx)(m.q,{files:"/images/textures/forest_slope_1k.hdr"})]}),(0,w.jsx)("directionalLight",{intensity:.5})]})}function F(){return(0,w.jsxs)("group",{children:[(0,w.jsx)("axesHelper",{args:[10,10]}),(0,w.jsx)("gridHelper",{})]})}var k=t(360),_=["noHelpers","small"];function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function M(e){var r=e.noHelpers,t=e.small,n=(0,p.Z)(e,_),s=(0,O.m$)(),i=(0,u.Z)(s,1)[0],o=function(){return(0,w.jsx)(j.V,{center:!0,children:(0,w.jsx)("div",{className:"mt-6 w-24 pb-4 m-auto flex justify-center",children:(0,w.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"#6E67B6",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:i?"#231E58":"#F3F2FF",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})};return(0,w.jsxs)(d.Xz,{gl:{antialias:!0},camera:{position:3},style:{width:"100%",height:"100%"},children:[(0,w.jsxs)(f.Suspense,{fallback:(0,w.jsx)(o,{}),children:[(0,w.jsx)("group",{scale:t?.5:1,children:(0,w.jsx)(k.Z,S({},n))}),!r&&(0,w.jsx)(F,{}),(0,w.jsx)(m.q,{files:"/images/textures/forest_slope_1k.hdr"}),(0,w.jsx)(h.z,{})]}),(0,w.jsx)("directionalLight",{intensity:.5})]})}var T,D=t(73574),z=t(30463),Z=t(26367);function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?A(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}!function(e){e[e.ProfileNFT=0]="ProfileNFT",e[e.FreeSwapNFT=1]="FreeSwapNFT",e[e.Unknown=2]="Unknown"}(T||(T={}));var W=function(){var e=(0,a.useRouter)().query,r=e.address,t=e.id,n=(0,z.aQ)().chainId,i=(0,f.useState)(""),u=i[0],p=i[1],d=(0,z.LZ)(Array.isArray(r)?r[0]:r),j=(0,f.useMemo)((function(){switch(r){case D.qM[n]:return T.ProfileNFT;case D.X6[n]:return T.FreeSwapNFT;default:return T.Unknown}}),[r,n]);(0,f.useEffect)((function(){(function(){var e=(0,s.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,d.visualAppearance();case 3:r=e.sent,p(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]);var x=(0,f.useMemo)((function(){var e,r,t,n,s,i;if(j!=T.FreeSwapNFT)return null;try{i=JSON.parse(u)}catch(o){return null}return{type:null===(e=i)||void 0===e?void 0:e.model_type,options:{edgeWear:null===(r=i)||void 0===r?void 0:r.edge_wear,surfaceWear:null===(t=i)||void 0===t?void 0:t.surface_wear,deformation:null===(n=i)||void 0===n?void 0:n.deformation,color:new b.Color(null===(s=i)||void 0===s?void 0:s.color),material:{metalness:.5}}}}),[u,j]);return(0,w.jsxs)(c.W2,{id:"profile-page",className:"h-screen",maxWidth:"7xl",children:[(0,w.jsxs)(l.default,{children:[(0,w.jsx)("title",{children:"Gem | Ruby.Exchange"}),(0,w.jsx)("meta",{name:"description",content:"Profile page."},"description")]}),(0,w.jsx)("div",{className:"my-8",children:(0,w.jsx)(c.eJ,{})}),(0,Z.lN)()?j==T.ProfileNFT?(0,w.jsx)(M,{small:!0,noHelpers:!0,seed:parseInt(Array.isArray(t)?t[0]:t)}):j==T.FreeSwapNFT?x&&(0,w.jsx)(N,H({},x)):(0,w.jsx)("p",{className:"text-center my-40 text-3xl text-alabaster dark:text-port-gore font-semibold capitalize",children:"Invalid NFT"}):(0,w.jsx)("p",{className:"text-center my-40 text-3xl text-alabaster dark:text-port-gore font-semibold capitalize",children:"Your Browser Does Not Support WebGL"})]})}},94349:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nft/[address]/[id]",function(){return t(59746)}])}},function(e){e.O(0,[3737,5611,6364,6064,9774,2888,179],(function(){return r=94349,e(e.s=r);var r}));var r=e.O();_N_E=r}]);