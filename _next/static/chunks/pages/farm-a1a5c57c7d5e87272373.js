(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8106],{57043:function(e,t,r){var n=r(62488),s=r(21078),a=r(278),i=r(1469);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return n(i(r)?a(r):[r],s(t,1))}},29246:function(e,t,r){var n=r(98612),s=r(37005);e.exports=function(e){return s(e)&&n(e)}},40690:function(e,t,r){var n=r(34963),s=r(29932),a=r(40371),i=r(22545),o=r(29246),l=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=n(e,(function(e){if(o(e))return t=l(e.length,t),!0})),i(t,(function(t){return s(e,a(t))}))}},4788:function(e,t,r){var n=r(5976)(r(40690));e.exports=n},76111:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(30266),s=r(809),a=r.n(s);function i(e){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(a().mark((function e(t){var r,n,s,i,o,l,c,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","");case 9:return n=r.body.getReader(),s=new TextDecoder("utf-8"),e.next=13,n.read();case 13:i=e.sent,o=i.value,l=i.done,c=r&&r.ok&&o?s.decode(o):"";case 17:if(l){e.next=26;break}return e.next=20,n.read();case 20:d=e.sent,o=d.value,l=d.done,c+=o?s.decode(o):"",e.next=17;break;case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}},69896:function(e,t,r){"use strict";r.d(t,{pM:function(){return f},ht:function(){return m}});var n=r(80318),s=r(99548),a=r(84501),i=(r(67294),r(74891)),o=r(33646),l=r(28269),c=r(13369),d=r(20181),u=r(85893),x=function(e){var t=e.onDismiss,r=e.pendingText,s=(0,d.m$)(),a=(0,n.Z)(s,1)[0];return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)(i.Tw,{onClick:t})}),(0,u.jsx)("div",{className:"w-24 pb-4 m-auto flex justify-center",children:(0,u.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"#6E67B6",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:a?"#231E58":"#F3F2FF",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,u.jsx)("div",{className:"sm:text-xl text-lg font-semibold text-alabaster dark:text-port-gore",children:"Waiting for Confirmation"}),(0,u.jsx)("div",{className:"sm:text-base text-xs text-alabaster dark:text-port-gore",children:r}),(0,u.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore",children:"Confirm this transaction in your wallet."}),(0,u.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore -mt-3",children:"You can close this dialog after confirming."})]})]})},p=function(e){var t,r=e.onDismiss,n=e.chainId,a=e.hash,d=e.currencyToAdd,x=(0,l.a)().library,p=(0,c.Z)(d),f=p.addToken,m=p.success;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"flex justify-end hover:text-alabaster dark:hover:text-port-gore",children:(0,u.jsx)(i.Tw,{onClick:r})}),(0,u.jsx)("div",{className:"w-24 pb-4 m-auto",children:(0,u.jsx)(s.Z,{strokeWidth:.5,size:90,className:"text-blue"})}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,u.jsx)("div",{className:"sm:text-xl text-lg font-bold text-alabaster dark:text-port-gore",children:"Transaction Submitted"}),n&&a&&(0,u.jsx)(i.dL,{href:(0,o.E)(n,a,"transaction"),children:(0,u.jsx)("div",{className:"font-bold text-blue sm:text-base text-sm",children:"View on explorer"})}),d&&(null===x||void 0===x||null===(t=x.provider)||void 0===t?void 0:t.isMetaMask)&&(0,u.jsx)(i.zx,{variant:"gradient",onClick:f,className:"w-auto mt-4 font-semibold",children:m?(0,u.jsxs)(i.bs,{children:["Added ",d.symbol]}):(0,u.jsxs)(i.bs,{className:"mx-auto space-x-2",children:[(0,u.jsx)("span",{children:"Add ".concat(d.symbol," to MetaMask")}),(0,u.jsx)("img",{src:"/images/wallets/metamask.png",alt:"Add ".concat(d.symbol," to MetaMask"),width:20,height:20,className:"ml-1"})]})})]})]})},f=function(e){var t=e.title,r=e.bottomContent,n=e.onDismiss,s=e.topContent;return(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsx)(i.xB,{title:t,onClose:n}),s(),r()]})},m=function(e){var t=e.message,r=e.onDismiss;return(0,u.jsxs)("div",{className:"grid gap-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("div",{className:"text-lg font-medium text-alabaster",children:"Error"}),(0,u.jsx)(i.Tw,{onClick:r})]}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,u.jsx)(a.Z,{className:"text-red",style:{strokeWidth:1.5},size:64}),(0,u.jsx)("div",{className:"font-bold text-red",children:t})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(i.zx,{color:"gradient",size:"lg",onClick:r,children:"Dismiss"})})]})};t.ZP=function(e){var t=e.isOpen,r=e.onDismiss,n=e.attemptingTxn,s=e.hash,a=e.pendingText,o=e.content,c=e.currencyToAdd,d=(0,l.a)().chainId;return d?(0,u.jsx)(i.u_,{isOpen:t,onDismiss:r,maxHeight:90,maxWidth:500,children:n?(0,u.jsx)(x,{onDismiss:r,pendingText:a}):s?(0,u.jsx)(p,{chainId:d,hash:s,onDismiss:r,currencyToAdd:c}):t?o():null}):null}},33800:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ae}});var n,s,a,i=r(74891),o=r(30463),l=r(67294),c=r(26367),d=r(9120),u=r(92809),x=r(10219),p=r(47786),f=r(19642),m=r(133),v=r(58529),g=r(57471),b=r(62659),h=r(79016),j=r(92506),w=r(3980),y=r(56637);!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(s||(s={})),function(e){e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel"}(a||(a={}));var k=((n={})[a.ToggleDisclosure]=function(e){var t;return(0,f.gY)({},e,{disclosureState:(0,m.E)(e.disclosureState,(t={},t[s.Open]=s.Closed,t[s.Closed]=s.Open,t))})},n[a.CloseDisclosure]=function(e){return e.disclosureState===s.Closed?e:(0,f.gY)({},e,{disclosureState:s.Closed})},n[a.LinkPanel]=function(e){return!0===e.linkedPanel?e:(0,f.gY)({},e,{linkedPanel:!0})},n[a.UnlinkPanel]=function(e){return!1===e.linkedPanel?e:(0,f.gY)({},e,{linkedPanel:!1})},n[a.SetButtonId]=function(e,t){return e.buttonId===t.buttonId?e:(0,f.gY)({},e,{buttonId:t.buttonId})},n[a.SetPanelId]=function(e,t){return e.panelId===t.panelId?e:(0,f.gY)({},e,{panelId:t.panelId})},n),N=(0,l.createContext)(null);function T(e){var t=(0,l.useContext)(N);if(null===t){var r=new Error("<"+e+" /> is missing a parent <"+A.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(r,T),r}return t}N.displayName="DisclosureContext";var S=(0,l.createContext)(null);function O(e){var t=(0,l.useContext)(S);if(null===t){var r=new Error("<"+e+" /> is missing a parent <"+A.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}return t}S.displayName="DisclosureAPIContext";var P=(0,l.createContext)(null);function C(e,t){return(0,m.E)(t.type,k,e,t)}P.displayName="DisclosurePanelContext";var E=l.Fragment;function A(e){var t,r=e.defaultOpen,n=void 0!==r&&r,i=(0,f.gK)(e,["defaultOpen"]),o="headlessui-disclosure-button-"+(0,j.M)(),c="headlessui-disclosure-panel-"+(0,j.M)(),d=(0,l.useReducer)(C,{disclosureState:n?s.Open:s.Closed,linkedPanel:!1,buttonId:o,panelId:c}),u=d[0].disclosureState,x=d[1];(0,l.useEffect)((function(){return x({type:a.SetButtonId,buttonId:o})}),[o,x]),(0,l.useEffect)((function(){return x({type:a.SetPanelId,panelId:c})}),[c,x]);var p=(0,l.useCallback)((function(e){x({type:a.CloseDisclosure});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:document.getElementById(o):document.getElementById(o);null==t||t.focus()}),[x,o]),g=(0,l.useMemo)((function(){return{close:p}}),[p]),b=(0,l.useMemo)((function(){return{open:u===s.Open,close:p}}),[u,p]);return l.createElement(N.Provider,{value:d},l.createElement(S.Provider,{value:g},l.createElement(w.up,{value:(0,m.E)(u,(t={},t[s.Open]=w.ZM.Open,t[s.Closed]=w.ZM.Closed,t))},(0,v.sY)({props:i,slot:b,defaultTag:E,name:"Disclosure"}))))}var M=(0,v.yV)((function e(t,r){var n=T([A.name,e.name].join(".")),i=n[0],o=n[1],c=(0,l.useRef)(null),d=(0,g.T)(c,r),u=(0,l.useContext)(P),x=null!==u&&u===i.panelId,p=(0,l.useCallback)((function(e){var t;if(x){if(i.disclosureState===s.Closed)return;switch(e.key){case b.R.Space:case b.R.Enter:e.preventDefault(),e.stopPropagation(),o({type:a.ToggleDisclosure}),null==(t=document.getElementById(i.buttonId))||t.focus()}}else switch(e.key){case b.R.Space:case b.R.Enter:e.preventDefault(),e.stopPropagation(),o({type:a.ToggleDisclosure})}}),[o,x,i.disclosureState]),m=(0,l.useCallback)((function(e){switch(e.key){case b.R.Space:e.preventDefault()}}),[]),j=(0,l.useCallback)((function(e){var r;(0,h.P)(e.currentTarget)||(t.disabled||(x?(o({type:a.ToggleDisclosure}),null==(r=document.getElementById(i.buttonId))||r.focus()):o({type:a.ToggleDisclosure})))}),[o,t.disabled,i.buttonId,x]),w=(0,l.useMemo)((function(){return{open:i.disclosureState===s.Open}}),[i]),k=(0,y.f)(t,c),N=t,S=x?{ref:d,type:k,onKeyDown:p,onClick:j}:{ref:d,id:i.buttonId,type:k,"aria-expanded":t.disabled?void 0:i.disclosureState===s.Open,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:p,onKeyUp:m,onClick:j};return(0,v.sY)({props:(0,f.gY)({},N,S),slot:w,defaultTag:"button",name:"Disclosure.Button"})})),D=v.AN.RenderStrategy|v.AN.Static,I=(0,v.yV)((function e(t,r){var n=T([A.name,e.name].join(".")),i=n[0],o=n[1],c=O([A.name,e.name].join(".")).close,d=(0,g.T)(r,(function(){i.linkedPanel||o({type:a.LinkPanel})})),u=(0,w.oJ)(),x=null!==u?u===w.ZM.Open:i.disclosureState===s.Open;(0,l.useEffect)((function(){return function(){return o({type:a.UnlinkPanel})}}),[o]),(0,l.useEffect)((function(){var e;i.disclosureState!==s.Closed||null!=(e=t.unmount)&&!e||o({type:a.UnlinkPanel})}),[i.disclosureState,t.unmount,o]);var p=(0,l.useMemo)((function(){return{open:i.disclosureState===s.Open,close:c}}),[i,c]),m={ref:d,id:i.panelId},b=t;return l.createElement(P.Provider,{value:i.panelId},(0,v.sY)({props:(0,f.gY)({},b,m),slot:p,defaultTag:"div",features:D,visible:x,name:"Disclosure.Panel"}))}));A.Button=M,A.Panel=I;var R,_,Z,U=r(30266),B=r(80318),z=r(809),L=r.n(z),K=r(99952),Y=r(73574);!function(e){e[e.MASTERCHEF=0]="MASTERCHEF"}(R||(R={})),function(e){e[e.SIMPLE=0]="SIMPLE"}(_||(_={})),function(e){e[e.SWAP=0]="SWAP",e[e.STABLE=1]="STABLE"}(Z||(Z={}));var F=r(16867),W=r(96540),H=r(30879),V=r(66269),q=(r(57043),r(28269));r(4788);function G(e){var t=(0,o.Bl)(),r=(0,l.useMemo)((function(){return(0,u.Z)({},R.MASTERCHEF,t)}),[t]);return(0,l.useMemo)((function(){return r[e]}),[r,e])}function J(e,t){var r,n=(0,q.a)().account,s=G(e.chef),a=(0,l.useMemo)((function(){if(n)return[String(e.id),String(n)]}),[e,n]),i=null===(r=(0,H.Wk)(a?s:null,"userInfo",a))||void 0===r?void 0:r.result,o=null===i||void 0===i?void 0:i[0],d=o?c.QA.BigInt(o.toString()):void 0;return d?c.ih.fromRawAmount(t,d):void 0}function Q(e){var t,r=(0,q.a)(),n=r.account,s=r.chainId,a=G(e.chef),i=(0,l.useMemo)((function(){if(n)return[String(e.id),String(n)]}),[e,n]),o=null===(t=(0,H.Wk)(i?a:null,"pendingTokens",i))||void 0===t?void 0:t.result,d=null===o||void 0===o?void 0:o[0],u=d?c.QA.BigInt(d.toString()):void 0;return u?c.ih.fromRawAmount(W.dg[s],u):void 0}var X=r(64594),$=r(82989),ee=r(21046);r(54663);function te(e){var t=(0,o.aQ)().account,r=(0,o.N_)(),n=G(e);return{deposit:(0,l.useCallback)(function(){var r=(0,U.Z)(L().mark((function r(s,a){var i;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e!==R.MASTERCHEF){r.next=7;break}return r.next=4,null===n||void 0===n?void 0:n.deposit(s,a);case 4:i=r.sent,r.next=10;break;case 7:return r.next=9,null===n||void 0===n?void 0:n.deposit(s,a,t);case 9:i=r.sent;case 10:return r.abrupt("return",i);case 13:return r.prev=13,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return",r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}(),[t,e,n]),withdraw:(0,l.useCallback)(function(){var r=(0,U.Z)(L().mark((function r(s,a){var i;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e!==R.MASTERCHEF){r.next=7;break}return r.next=4,null===n||void 0===n?void 0:n.withdraw(s,a);case 4:i=r.sent,r.next=10;break;case 7:return r.next=9,null===n||void 0===n?void 0:n.withdraw(s,a,t);case 9:i=r.sent;case 10:return r.abrupt("return",i);case 13:return r.prev=13,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return",r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}(),[t,e,n]),harvest:(0,l.useCallback)(function(){var e=(0,U.Z)(L().mark((function e(t){var r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.deposit(t,ee._Y);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t,e,n,r])}}var re=r(72319),ne=r(99123),se=r(11163),ae=r(69896),ie=r(85893);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(e){var t,r,n,s=e.farm,a=e.hover,o=(0,q.Z)(),d=o.account,x=o.chainId,f=(0,l.useState)(!1),m=f[0],v=f[1],g=(0,l.useState)(""),b=g[0],h=g[1],j=(0,l.useState)(""),w=j[0],y=j[1],k=(0,ne.h7)(),N="".concat(null===s||void 0===s?void 0:s.pair.token0.symbol,"/").concat(null===s||void 0===s?void 0:s.pair.token1.symbol),T=new c.WU(x,(0,X.getAddress)(s.pair.address),18,N,"Ruby LP"),S=(0,re.mM)(d,T),O=J(s,T),P=Q(s),C=function(e){var t=(0,q.a)(),r=t.account,n=(t.chainId,G(e.chef)),s=(0,l.useMemo)((function(){if(r&&e)return[String(e.id),String(r)]}),[e,r]),a=(0,H.Wk)(s?n:null,"pendingTokens",s),i=null===a||void 0===a?void 0:a.result,o=null===i||void 0===i?void 0:i[3],d=(0,V.dQ)(null===i||void 0===i?void 0:i[1]);if(void 0!=d){var u=o?c.QA.BigInt(o.toString()):void 0;return u?c.ih.fromRawAmount(d,u):void 0}}(s),E=(0,u.Z)({},R.MASTERCHEF,(t={},(0,u.Z)(t,c.a_.MAINNET,Y.Ey[c.a_.MAINNET]),(0,u.Z)(t,c.a_.RUBY_SKALE_TESTNET,Y.Ey[c.a_.RUBY_SKALE_TESTNET]),(0,u.Z)(t,c.a_.RUBY_NEW_SCHAIN,Y.Ey[c.a_.RUBY_NEW_SCHAIN]),(0,u.Z)(t,c.a_.EUROPA,Y.Ey[c.a_.EUROPA]),(0,u.Z)(t,c.a_.LOCALHOST,Y.Ey[c.a_.LOCALHOST]),t)),M=(0,$.e)(b,T),D=(0,$.e)(w,T),I=(0,K.qL)(M,E[s.chef][x]),_=(0,B.Z)(I,2),Z=_[0],z=_[1],W=te(s.chef),ee=W.deposit,oe=W.withdraw,ce=W.harvest,de=(0,l.useState)({showConfirm:!1,attemptingTxn:!1,errorMessage:void 0,pendingText:void 0}),ue=de[0],xe=ue.showConfirm,pe=ue.errorMessage,fe=ue.attemptingTxn,me=ue.pendingText,ve=de[1],ge=(0,l.useCallback)((function(){ve((function(e){return le(le({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Approving ".concat(N)})})})),z().then((function(){ve((function(e){return le(le({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})}))})).catch((function(e){ve((function(e){return le(le({},e),{},{attemptingTxn:!1})})),4001===(null===e||void 0===e?void 0:e.code)?ve((function(e){return le(le({},e),{},{errorMessage:"Transaction rejected."})})):ve((function(e){return le(le({},e),{},{errorMessage:"Approve failed: Please try again"})}))}))}),[z,N]),be=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve((function(e){return le(le({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Depositing ".concat(N)})})})),v(!0),e.prev=2,e.next=5,ee(s.id,b.toBigNumber(null===T||void 0===T?void 0:T.decimals));case 5:return t=e.sent,k(t,{summary:"Deposit ".concat(N)}),e.next=9,t.wait();case 9:ve((function(e){return le(le({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ve((function(e){return le(le({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ve((function(e){return le(le({},e),{},{errorMessage:"Transaction rejected."})})):ve((function(t){return le(le({},t),{},{errorMessage:"Deposit failed: ".concat(e.t0)})}));case 16:v(!1),h("0.0");case 18:case"end":return e.stop()}}),e,null,[[2,12]])}))),[ee,b,s.id,N]),he=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve((function(e){return le(le({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Withdrawing ".concat(N)})})})),v(!0),e.prev=2,e.next=5,oe(s.id,w.toBigNumber(null===T||void 0===T?void 0:T.decimals));case 5:return t=e.sent,k(t,{summary:"Withdraw ".concat(N)}),e.next=9,t.wait();case 9:ve((function(e){return le(le({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ve((function(e){return le(le({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ve((function(e){return le(le({},e),{},{errorMessage:"Transaction rejected."})})):ve((function(t){return le(le({},t),{},{errorMessage:"Withdraw failed: ".concat(e.t0)})}));case 16:y("0.0"),v(!1);case 18:case"end":return e.stop()}}),e,null,[[2,12]])}))),[w,oe,s.id,N]),je=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve((function(e){return le(le({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Vesting ".concat(N," rewards")})})})),v(!0),e.prev=2,e.next=5,ce(s.id);case 5:return t=e.sent,k(t,{summary:"Vest ".concat(N," rewards")}),e.next=9,t.wait();case 9:ve((function(e){return le(le({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ve((function(e){return le(le({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ve((function(e){return le(le({},e),{},{errorMessage:"Transaction rejected."})})):ve((function(t){return le(le({},t),{},{errorMessage:"Vest failed: ".concat(e.t0)})}));case 16:v(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])}))),[ce,N,s.id]),we=(0,l.useCallback)((function(){ve((function(e){return le(le({},e),{},{showConfirm:!1})}))}),[]),ye=(0,l.useCallback)((function(){return pe?(0,ie.jsx)(ae.ht,{onDismiss:we,message:pe}):(0,ie.jsx)(ae.pM,{title:"Confirm",onDismiss:we,topContent:function(){return""},bottomContent:function(){return""}})}),[we,pe]);return(0,ie.jsxs)(F.u,{show:!0,enter:"transition-opacity duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,ie.jsxs)(A.Panel,{className:(0,c.AK)("flex flex-col w-full rounded rounded-t-none bg-black-russian dark:bg-white border border-blue-violet border-t-0",a?"bg-port-gore dark:bg-light":"bg-black-russian"),static:!0,children:[(0,ie.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4",children:[(0,ie.jsxs)("div",{className:"col-span-2 text-center md:col-span-1",children:[d&&(0,ie.jsxs)("div",{className:(0,c.AK)("pr-4 mb-2 text-base font-medium text-center cursor-pointer ",a?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:["Wallet Balance: ",(0,p.uf)(null!==(r=null===S||void 0===S?void 0:S.toSignificant(6))&&void 0!==r?r:0)," ",s.type]}),(0,ie.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,ie.jsx)(i.$n,{className:"w-full p-3 pr-20 rounded-box bg-black-russian dark:bg-white ring ring-blue-violet focus:ring focus:ring-blue-violet sm:text-2xl text-xl disabled:cursor-not-allowed",value:b,onUserInput:h,disabled:!d}),(0,ie.jsx)(i.zx,{variant:"violetOutline",size:"xs",onClick:function(){S.equalTo(Y.xE)||h(S.toFixed(T.decimals))},className:"absolute border-0 right-4 sm:text-sm text-xs font-semibold ring ring-blue-violet rounded-5px w-auto whitespace-nowrap px-2.5 py-5px capitalize disabled:text-alabaster dark:disabled:text-port-gore",disabled:!d,children:"MAX"})]}),Z===K.UK.NOT_APPROVED||Z===K.UK.PENDING?(0,ie.jsx)(i.zx,{color:"blue",disabled:Z===K.UK.PENDING,onClick:ge,variant:"orange",children:Z===K.UK.PENDING?(0,ie.jsx)(i.bb,{children:"Approving "}):"Approve"}):(0,ie.jsx)(i.zx,{color:"blue",disabled:m||!M||S&&S.lessThan(M),variant:a?"farmPageGradient":"orange",onClick:be,children:"Stake"})]}),(0,ie.jsxs)("div",{className:"col-span-2 text-center md:col-span-1",children:[d&&(0,ie.jsxs)("div",{className:(0,c.AK)("pr-4 mb-2 text-base font-medium text-center cursor-pointer ",a?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:["Your Staked: ",null!==(n=(0,p.uf)(null===O||void 0===O?void 0:O.toSignificant(6)))&&void 0!==n?n:0," ",s.type]}),(0,ie.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,ie.jsx)(i.$n,{className:"w-full p-3 pr-20 rounded bg-black-russian dark:bg-white ring ring-blue-violet focus:ring focus:ring-blue-violet sm:text-2xl text-xl disabled:cursor-not-allowed",value:w,onUserInput:y,disabled:!d}),(0,ie.jsx)(i.zx,{variant:"violetOutline",size:"xs",onClick:function(){O.equalTo(Y.xE)||y(O.toFixed(T.decimals))},disabled:!d,className:"absolute border-0 right-4 sm:text-sm text-xs font-semibold ring ring-blue-violet rounded-5px w-auto whitespace-nowrap px-2.5 py-5px capitalize disabled:text-alabaster dark:disabled:text-port-gore",children:"MAX"})]}),(0,ie.jsx)(i.zx,{color:"pink",variant:a?"farmPageSeance":"seance",disabled:m||!D||(null===O||void 0===O?void 0:O.lessThan(D)),onClick:he,children:"Unstake"})]})]}),P&&P.greaterThan(Y.xE)&&(0,ie.jsxs)("div",{className:"grid sm:grid-cols-2 gap-x-4 p-4",children:[(0,ie.jsx)("div",{className:"",children:(0,ie.jsx)(i.zx,{variant:"orange",onClick:je,children:"Vest ".concat((0,p.uf)(P.toFixed(18))," RUBY ").concat(s.rewards.length>1?"& ".concat((0,p.uf)(C.toFixed(18))," ").concat(s.rewards[1].token):"","\n                ")})}),(0,ie.jsx)("div",{className:"sm:mt-0 mt-5",children:(0,ie.jsx)(i.zx,{variant:"seance",onClick:function(){se.default.push("/stake")},children:"View claimable rewards"})})]})]}),(0,ie.jsx)(ae.ZP,{isOpen:xe,onDismiss:we,attemptingTxn:fe,content:ye,pendingText:me})]})},de=["farm"];function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=function(e){var t,r,n,s,a,o,d,u,f,m,v,g,b=e.farm,h=(0,x.Z)(e,de),j=(0,V.U8)("USDP"==(null===b||void 0===b||null===(t=b.pair)||void 0===t||null===(r=t.token0)||void 0===r?void 0:r.symbol)?null===b||void 0===b||null===(n=b.pair)||void 0===n||null===(s=n.token1)||void 0===s?void 0:s.address:null===b||void 0===b||null===(a=b.pair)||void 0===a||null===(o=a.token0)||void 0===o?void 0:o.address),w=(0,V.U8)("USDP"==(null===b||void 0===b||null===(d=b.pair)||void 0===d||null===(u=d.token0)||void 0===u?void 0:u.symbol)?null===b||void 0===b||null===(f=b.pair)||void 0===f||null===(m=f.token0)||void 0===m?void 0:m.address:null===b||void 0===b||null===(v=b.pair)||void 0===v||null===(g=v.token1)||void 0===g?void 0:g.address),y=(0,l.useState)(!1),k=y[0],N=y[1];return(0,ie.jsx)(A,xe(xe({},h),{},{children:function(e){var t,r,n=e.open;return(0,ie.jsxs)("div",{onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},className:"px-2 xl:px-0",children:[(0,ie.jsx)(A.Button,{className:(0,c.AK)(n&&"rounded-b-none border-b-0","w-full px-4 py-6 text-left rounded cursor-pointer select-none bg-black-russian dark:bg-white border border-blue-violet text-primary text-sm lg:text-lg",k?"bg-port-gore dark:bg-light":"bg-black-russian"),children:(0,ie.jsxs)("div",{className:"grid grid-cols-4 ",children:[(0,ie.jsxs)("div",{className:"flex col-span-2 lg:space-x-4 lg:col-span-1 xl:items-center",children:[(0,ie.jsx)("div",{className:"hidden xl:inline",children:(0,ie.jsx)(i.go,{currency0:j,currency1:w,size:60})}),(0,ie.jsx)("div",{className:"hidden lg:inline xl:hidden",children:(0,ie.jsx)(i.go,{currency0:j,currency1:w,size:45})}),(0,ie.jsxs)("div",{className:"flex flex-col",children:[(0,ie.jsxs)("div",{className:"xl:ml-4 lg:ml-1",children:[(0,ie.jsxs)("span",{className:"font-semibold text-alabaster dark:text-port-gore lg:text-xl xl:text-2xl text-base",children:[null===j||void 0===j?void 0:j.symbol,"/"]}),(0,ie.jsx)("span",{className:"font-semibold text-alabaster dark:text-port-gore lg:text-xl xl:text-2xl text-base",children:null===w||void 0===w?void 0:w.symbol})]}),(null===b||void 0===b||null===(t=b.pair)||void 0===t?void 0:t.type)===Z.SWAP&&(0,ie.jsx)("div",{className:(0,c.AK)("text-base font-medium lg:text-lg lg:ml-1 xl:ml-4 lg:mt-2 ",k?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:"RUBY Farm"})]})]}),(0,ie.jsx)("div",{className:"flex flex-col text-left lg:text-left lg:pl-32 xl:justify-center font-semibold text-alabaster dark:text-port-gore text-base lg:text-2xl xl:text-3xl",children:(0,p.uf)(null===b||void 0===b?void 0:b.tvl,!0)}),(0,ie.jsx)("div",{className:"flex flex-col items-start hidden space-x-4 xl:justify-center lg:flex lg:pl-12 xl:pl-24",children:(0,ie.jsx)("div",{className:"items-start block",children:null===b||void 0===b||null===(r=b.rewards)||void 0===r?void 0:r.map((function(e,t){return(0,ie.jsxs)("div",{className:(0,c.AK)("flex"),children:[(0,ie.jsx)("div",{className:"xl:mt-1",children:(0,ie.jsx)("img",{src:e.icon,width:"36px",height:"36px",className:"rounded-md",alt:e.token})}),(0,ie.jsxs)("div",{className:"ml-4",children:[(0,ie.jsx)("div",{className:"text-lima lg:font-semibold lg:text-2xl xl:text-3xl text-base block xl:mt-1",children:(0,p.uf)(e.rewardPerDay)}),(0,ie.jsxs)("div",{className:(0,c.AK)("text-base font-medium lg:font-semibold lg:text-lg block xl:mt-1",k?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:[" ","Per Day"," "]})]})]},t)}))})}),(0,ie.jsxs)("div",{className:"flex flex-col items-end xl:justify-center",children:[(0,ie.jsx)("div",{className:"font-semibold text-right text-alabaster dark:text-port-gore lg:text-2xl xl:text-3xl text-base",children:(null===b||void 0===b?void 0:b.roiPerYear)>1e4?"10000%+":(0,p.T3)(null===b||void 0===b?void 0:b.roiPerYear)}),(0,ie.jsx)("div",{className:(0,c.AK)("text-base text-right  lg:text-lg font-medium mt-1",k?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:"Annualised"})]})]})}),n&&(0,ie.jsx)(ce,{farm:b,hover:k})]})}}))},fe=r(59155),me=r(2593),ve=r(89231);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=function(e){var t,r,n,s=e.farm,a=e.hover,o=(0,q.Z)(),d=o.account,x=o.chainId,f=(0,l.useState)(!1),m=f[0],v=f[1],g=(0,l.useState)(""),b=g[0],h=g[1],j=(0,l.useState)(""),w=j[0],y=j[1],k=(0,ne.h7)(),N="4Pool StableSwap",T=new c.WU(x,ve.Mb[x],18,N,"RubyUSD4Pool"),S=(0,re.mM)(d,T),O=J(s,T),P=Q(s),C=me.O$.from(0),E=(0,u.Z)({},R.MASTERCHEF,(t={},(0,u.Z)(t,c.a_.MAINNET,Y.Ey[c.a_.MAINNET]),(0,u.Z)(t,c.a_.RUBY_SKALE_TESTNET,Y.Ey[c.a_.RUBY_SKALE_TESTNET]),(0,u.Z)(t,c.a_.RUBY_NEW_SCHAIN,Y.Ey[c.a_.RUBY_NEW_SCHAIN]),(0,u.Z)(t,c.a_.EUROPA,Y.Ey[c.a_.EUROPA]),(0,u.Z)(t,c.a_.LOCALHOST,Y.Ey[c.a_.LOCALHOST]),t)),M=(0,$.e)(b,T),D=(0,$.e)(w,T),I=(0,K.qL)(M,E[s.chef][x]),_=(0,B.Z)(I,2),Z=_[0],z=_[1],W=te(s.chef),H=W.deposit,V=W.withdraw,G=W.harvest,X=(0,l.useState)({showConfirm:!1,attemptingTxn:!1,errorMessage:void 0,pendingText:void 0}),ee=X[0],oe=ee.showConfirm,le=ee.errorMessage,ce=ee.attemptingTxn,de=ee.pendingText,ue=X[1],xe=(0,l.useCallback)((function(){ue((function(e){return be(be({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Approving ".concat(N)})})})),z().then((function(){ue((function(e){return be(be({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})}))})).catch((function(e){ue((function(e){return be(be({},e),{},{attemptingTxn:!1})})),4001===(null===e||void 0===e?void 0:e.code)?ue((function(e){return be(be({},e),{},{errorMessage:"Transaction rejected."})})):ue((function(e){return be(be({},e),{},{errorMessage:"Approve failed: Please try again"})}))}))}),[z,N]),pe=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue((function(e){return be(be({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Depositing ".concat(N)})})})),v(!0),e.prev=2,e.next=5,H(s.id,b.toBigNumber(null===T||void 0===T?void 0:T.decimals));case 5:return t=e.sent,k(t,{summary:"Deposit ".concat(N)}),e.next=9,t.wait();case 9:ue((function(e){return be(be({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ue((function(e){return be(be({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ue((function(e){return be(be({},e),{},{errorMessage:"Transaction rejected."})})):ue((function(t){return be(be({},t),{},{errorMessage:"Deposit failed: ".concat(e.t0)})}));case 16:v(!1),h("0.0");case 18:case"end":return e.stop()}}),e,null,[[2,12]])}))),[H,b,s.id,N]),fe=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue((function(e){return be(be({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Withdrawing ".concat(N)})})})),v(!0),e.prev=2,e.next=5,V(s.id,w.toBigNumber(null===T||void 0===T?void 0:T.decimals));case 5:return t=e.sent,k(t,{summary:"Withdraw ".concat(N)}),e.next=9,t.wait();case 9:ue((function(e){return be(be({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ue((function(e){return be(be({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ue((function(e){return be(be({},e),{},{errorMessage:"Transaction rejected."})})):ue((function(t){return be(be({},t),{},{errorMessage:"Withdraw failed: ".concat(e.t0)})}));case 16:y("0.0"),v(!1);case 18:case"end":return e.stop()}}),e,null,[[2,12]])}))),[V,w,s.id,N]),ge=(0,l.useCallback)((0,U.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue((function(e){return be(be({},e),{},{showConfirm:!0,attemptingTxn:!0,errorMessage:void 0,pendingText:(0,ie.jsx)(i.bb,{children:"Vesting ".concat(N," rewards")})})})),v(!0),e.prev=2,e.next=5,G(s.id);case 5:return t=e.sent,k(t,{summary:"Vest ".concat(N," rewards")}),e.next=9,t.wait();case 9:ue((function(e){return be(be({},e),{},{attemptingTxn:!1,showConfirm:!1,errorMessage:void 0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),ue((function(e){return be(be({},e),{},{attemptingTxn:!1})})),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ue((function(e){return be(be({},e),{},{errorMessage:"Transaction rejected."})})):ue((function(t){return be(be({},t),{},{errorMessage:"Vest failed: ".concat(e.t0)})}));case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),[G,N,s.id]),he=(0,l.useCallback)((function(){ue((function(e){return be(be({},e),{},{showConfirm:!1})}))}),[]),je=(0,l.useCallback)((function(){return le?(0,ie.jsx)(ae.ht,{onDismiss:he,message:le}):(0,ie.jsx)(ae.pM,{title:"Confirm",onDismiss:he,topContent:function(){return""},bottomContent:function(){return""}})}),[he,le]);return(0,ie.jsxs)(F.u,{show:!0,enter:"transition-opacity duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,ie.jsxs)(A.Panel,{className:(0,c.AK)("flex flex-col w-full rounded rounded-t-none bg-black-russian dark:bg-white border border-blue-violet border-t-0",a?"bg-port-gore dark:bg-light":"bg-black-russian"),static:!0,children:[(0,ie.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4",children:[(0,ie.jsxs)("div",{className:"col-span-2 text-center md:col-span-1",children:[d&&(0,ie.jsxs)("div",{className:(0,c.AK)("pr-4 mb-2 text-base font-medium text-center cursor-pointer ",a?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:["Wallet Balance: ",(0,p.uf)(null!==(r=null===S||void 0===S?void 0:S.toSignificant(6))&&void 0!==r?r:0)," ",s.type]}),(0,ie.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,ie.jsx)(i.$n,{className:"w-full p-3 pr-20 rounded-box bg-black-russian dark:bg-white ring ring-blue-violet focus:ring focus:ring-blue-violet sm:text-2xl text-xl disabled:cursor-not-allowed",value:b,onUserInput:h,disabled:!d}),(0,ie.jsx)(i.zx,{variant:"violetOutline",size:"xs",onClick:function(){S.equalTo(Y.xE)||h(S.toFixed(T.decimals))},className:"absolute border-0 right-4 sm:text-sm text-xs font-semibold ring ring-blue-violet rounded-5px w-auto whitespace-nowrap px-2.5 py-5px capitalize disabled:text-alabaster dark:disabled:text-port-gore",disabled:!d,children:"MAX"})]}),Z===K.UK.NOT_APPROVED||Z===K.UK.PENDING?(0,ie.jsx)(i.zx,{color:"blue",disabled:Z===K.UK.PENDING,onClick:xe,variant:"orange",children:Z===K.UK.PENDING?(0,ie.jsx)(i.bb,{children:"Approving "}):"Approve"}):(0,ie.jsx)(i.zx,{color:"blue",disabled:m||!M||S&&S.lessThan(M),variant:a?"farmPageGradient":"orange",onClick:pe,children:"Stake"})]}),(0,ie.jsxs)("div",{className:"col-span-2 text-center md:col-span-1",children:[d&&(0,ie.jsxs)("div",{className:(0,c.AK)("pr-4 mb-2 text-base font-medium text-center cursor-pointer ",a?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:["Your Staked: ",null!==(n=(0,p.uf)(null===O||void 0===O?void 0:O.toSignificant(6)))&&void 0!==n?n:0," ",s.type]}),(0,ie.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,ie.jsx)(i.$n,{className:"w-full p-3 pr-20 rounded bg-black-russian dark:bg-white ring ring-blue-violet focus:ring focus:ring-blue-violet sm:text-2xl text-xl disabled:cursor-not-allowed",value:w,onUserInput:y,disabled:!d}),(0,ie.jsx)(i.zx,{variant:"violetOutline",size:"xs",onClick:function(){O.equalTo(Y.xE)||y(O.toFixed(T.decimals))},disabled:!d,className:"absolute border-0 right-4 sm:text-sm text-xs font-semibold ring ring-blue-violet rounded-5px w-auto whitespace-nowrap px-2.5 py-5px capitalize disabled:text-alabaster dark:disabled:text-port-gore",children:"MAX"})]}),(0,ie.jsx)(i.zx,{color:"pink",variant:a?"farmPageSeance":"seance",disabled:m||!D||(null===O||void 0===O?void 0:O.lessThan(D)),onClick:fe,children:"Unstake"})]})]}),P&&P.greaterThan(Y.xE)&&(0,ie.jsxs)("div",{className:"grid sm:grid-cols-2 gap-x-4 p-4",children:[(0,ie.jsx)("div",{className:"",children:(0,ie.jsx)(i.zx,{variant:"orange",onClick:ge,children:"Vest ".concat((0,p.uf)(P.toFixed(18))," RUBY ").concat(s.rewards.length>1?"& ".concat((0,p.uf)(C)," ").concat(s.rewards[1].token):"","\n                ")})}),(0,ie.jsx)("div",{className:"sm:mt-0 mt-5",children:(0,ie.jsx)(i.zx,{variant:"seance",onClick:function(){se.default.push("/stake")},children:"View claimable rewards"})})]})]}),(0,ie.jsx)(ae.ZP,{isOpen:oe,onDismiss:he,attemptingTxn:ce,content:je,pendingText:de})]})},je=["farm"];function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke=function(e){var t=e.farm,r=(0,x.Z)(e,je),n=(0,l.useState)(!1),s=n[0],a=n[1];return(0,ie.jsx)(A,ye(ye({},r),{},{children:function(e){var r,n=e.open;return(0,ie.jsxs)("div",{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},className:"px-2 xl:px-0",children:[(0,ie.jsx)(A.Button,{className:(0,c.AK)(n&&"rounded-b-none border-b-0","w-full px-4 py-6 text-left rounded cursor-pointer select-none bg-black-russian dark:bg-white border border-blue-violet text-primary text-sm lg:text-lg",s?"bg-port-gore dark:bg-light":"bg-black-russian"),children:(0,ie.jsxs)("div",{className:"grid grid-cols-4 ",children:[(0,ie.jsxs)("div",{className:"flex col-span-2 lg:space-x-4 lg:col-span-1 xl:items-center",children:[(0,ie.jsx)("div",{className:"hidden xl:inline",children:(0,ie.jsx)(i.TR,{srcs:["/images/stableswap/4Pool.png"],width:120,height:60,alt:"4Pool StableSwap",className:"m-auto",style:{width:60}})}),(0,ie.jsx)("div",{className:"hidden lg:inline xl:hidden",children:(0,ie.jsx)(i.TR,{srcs:["/images/stableswap/4Pool.png"],width:90,height:45,alt:"4Pool StableSwap",className:"m-auto",style:{width:45}})}),(0,ie.jsxs)("div",{className:"flex flex-col",children:[(0,ie.jsx)("div",{className:"xl:ml-4 lg:ml-1",children:(0,ie.jsx)("span",{className:"font-semibold text-alabaster dark:text-port-gore lg:text-xl xl:text-2xl text-base",children:"4Pool"})}),(0,ie.jsx)("div",{className:(0,c.AK)("text-base font-medium lg:text-lg lg:ml-1 xl:ml-4 lg:mt-2 ",s?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:"StableSwap"})]})]}),(0,ie.jsx)("div",{className:"flex flex-col text-left lg:text-left lg:pl-32 xl:justify-center font-semibold text-alabaster dark:text-port-gore text-base lg:text-2xl xl:text-3xl",children:(0,p.uf)(t.tvl,!0)}),(0,ie.jsx)("div",{className:"flex flex-col items-start hidden space-x-4 xl:justify-center lg:flex lg:pl-12 xl:pl-24",children:(0,ie.jsx)("div",{className:"items-start block",children:null===t||void 0===t||null===(r=t.rewards)||void 0===r?void 0:r.map((function(e,t){return(0,ie.jsxs)("div",{className:(0,c.AK)("flex"),children:[(0,ie.jsx)("div",{className:"xl:mt-1",children:(0,ie.jsx)("img",{src:e.icon,width:"36px",height:"36px",className:"rounded-md",alt:e.token})}),(0,ie.jsxs)("div",{className:"ml-4",children:[(0,ie.jsx)("div",{className:"text-lima lg:font-semibold lg:text-2xl xl:text-3xl text-base block xl:mt-1",children:(0,p.uf)(e.rewardPerDay)}),(0,ie.jsxs)("div",{className:(0,c.AK)("text-base font-medium lg:font-semibold lg:text-lg block xl:mt-1",s?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:[" ","Per Day"," "]})]})]},t)}))})}),(0,ie.jsxs)("div",{className:"flex flex-col items-end xl:justify-center",children:[(0,ie.jsx)("div",{className:"font-semibold text-right text-alabaster dark:text-port-gore lg:text-2xl xl:text-3xl text-base",children:(null===t||void 0===t?void 0:t.roiPerYear)>1e4?"10000%+":(0,p.T3)(null===t||void 0===t?void 0:t.roiPerYear)}),(0,ie.jsx)("div",{className:(0,c.AK)("text-base text-right  lg:text-lg font-medium mt-1",s?"text-alabaster dark:text-port-gore":"text-blue-violet"),children:"Annualised"})]})]})}),n&&(0,ie.jsx)(he,{farm:t,hover:s})]})}}))},Ne=function(e){var t=e.farms,r=(e.term,e.loading),n=(0,fe.Z)(t),s=n.items,a=n.requestSort,i=n.sortConfig;return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)("div",{className:"grid grid-cols-4 text-base font-normal text-lg text-primary mt-8 px-2 xl:px-0",children:[(0,ie.jsxs)("div",{className:"flex items-center col-span-2 px-4 cursor-pointer lg:col-span-1",onClick:function(){return a("symbol")},children:[(0,ie.jsx)("div",{className:"hover:text-blue-violet text-alabaster dark:text-port-gore text-base font-normal",children:"Liquidity Pool"}),i&&"symbol"===i.key&&("ascending"===i.direction&&(0,ie.jsx)(d.g8U,{width:12,height:12})||"descending"===i.direction&&(0,ie.jsx)(d.v4q,{width:12,height:12}))]}),(0,ie.jsxs)("div",{className:"flex items-center lg:pl-36 cursor-pointer hover:text-blue-violet text-alabaster dark:text-port-gore text-base font-normal text-left justify-left",onClick:function(){return a("tvl")},children:["Farmed TVL",i&&"tvl"===i.key&&("ascending"===i.direction&&(0,ie.jsx)(d.g8U,{width:12,height:12})||"descending"===i.direction&&(0,ie.jsx)(d.v4q,{width:12,height:12}))]}),(0,ie.jsx)("div",{className:"items-center justify-left hidden cursor-pointer px-4 lg:flex hover:text-blue-violet text-alabaster dark:text-port-gore text-base font-normal lg:pl-32 xl:pl-36 ",children:"Rewards"}),(0,ie.jsxs)("div",{className:"flex items-center justify-end px-4 cursor-pointer hover:text-blue-violet text-alabaster dark:text-port-gore text-base font-normal",onClick:function(){return a("roiPerYear")},children:["APR",i&&"roiPerYear"===i.key&&("ascending"===i.direction&&(0,ie.jsx)(d.g8U,{width:12,height:12})||"descending"===i.direction&&(0,ie.jsx)(d.v4q,{width:12,height:12}))]})]}),r?(0,ie.jsx)("div",{className:"w-full py-6 text-center text-blue-violet text-lg mt-10 font-bold px-2 md:px-0",children:"Fetching farms..."}):s.length?(0,ie.jsx)("div",{className:"flex-col space-y-4",children:s.map((function(e,t){var r;return(null===e||void 0===e||null===(r=e.pair)||void 0===r?void 0:r.type)===Z.STABLE?(0,ie.jsx)(ke,{farm:e},t):(0,ie.jsx)(pe,{farm:e},t)}))}):(0,ie.jsx)("div",{className:"w-full py-6 text-center text-blue-violet text-lg mt-10 font-bold px-2 md:px-0",children:(0,ie.jsx)("span",{children:"No Results."})})]})},Te=r(9008),Se=r(76111),Oe=r(42269);var Pe=r(51208);function Ce(){var e=(0,o.aQ)().chainId,t=function(){var e=(0,l.useState)([]),t=e[0],r=e[1];return(0,Oe.Z)((0,U.Z)(L().mark((function e(){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Se.i)(Y.LG);case 2:""!==(n=e.sent)&&JSON.stringify(JSON.parse(n).result)!==JSON.stringify(t)&&r(JSON.parse(n).result);case 4:case"end":return e.stop()}}),e)}))),5e3),(0,l.useMemo)((function(){for(var e=[],r=0;r<t.length;r++)t[r].isSS?e.push({address:t[r].address,type:Z.STABLE,token0:null,token1:null}):e.push({address:t[r].address,type:Z.SWAP,token0:{symbol:t[r].token0.symbol,address:t[r].token0.address},token1:{symbol:t[r].token1.symbol,address:t[r].token1.address}});return e}),[t])}(),r=function(){var e=(0,l.useState)([]),t=e[0],r=e[1];return(0,Oe.Z)((0,U.Z)(L().mark((function e(){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Se.i)(Y.QF);case 2:""!==(n=e.sent)&&JSON.stringify(JSON.parse(n).result)!==JSON.stringify(t)&&r(JSON.parse(n).result);case 4:case"end":return e.stop()}}),e)}))),5e3),(0,l.useMemo)((function(){for(var e=[],r=0;r<t.length;r++)e.push(t[r]);return e}),[t])}();return(0,l.useMemo)((function(){for(var n=[],s=0,a=function(a){for(var i=[],o=0;o<r[a].poolRewards.length;o++)void 0!==r[a].poolRewards[o].perDay&&0!==Number(r[a].poolRewards[o].perDay)&&i.push({rewardPerDay:r[a].poolRewards[o].perDay,token:r[a].poolRewards[o].symbol,icon:(0,Pe.a)(r[a].poolRewards[o].symbol,e)[0]});var l=r[a].data.poolAddress,c=t.filter((function(e){return e.address===l}))[0];0!==i.length&&n.push({id:s++,chef:R.MASTERCHEF,tvl:Number(r[a].usdTVL),roiPerYear:Number(r[a].poolAPR),rewards:i,pair:c})},i=0;i<r.length;i++)a(i);return n}),[t,r,e])}function Ee(){var e=(0,l.useState)(!1),t=e[0],r=e[1],n=(0,l.useState)(),s=n[0],a=n[1],u=(0,l.useState)("All"),x=u[0],p=u[1],f=Ce();(0,l.useEffect)((function(){var e=f;"Double Rewards"==x&&(e=e.filter((function(e){return 2==e.rewards.length}))),a(e)}),[f,x]);var m=(0,o.TK)({data:s,options:{keys:["pair.id","pair.token0.symbol","pair.token1.symbol"],threshold:.4}}),v=m.result,g=m.term,b=m.search;return(0,ie.jsxs)(i.W2,{id:"farm-page",className:"h-full  py-4 mx-auto md:py-8 lg:py-12 xl:px-0 px-5",maxWidth:"7xl",children:[(0,ie.jsxs)(Te.default,{children:[(0,ie.jsx)("title",{children:"Farm | Ruby.Exchange"}),(0,ie.jsx)("meta",{name:"description",content:"Farm Ruby"},"description")]}),(0,ie.jsxs)("div",{className:(0,c.AK)("space-y-8"),children:[(0,ie.jsxs)("div",{className:"flex md:flex-row flex-col justify-between md:p-0 p-2.5",children:[(0,ie.jsx)("div",{children:(0,ie.jsx)("h2",{className:"font-semibold text-2xl ml-2 xl:ml-0 md:text-3xl text-alabaster hover:text-alabaster dark:text-port-gore mt-2",children:"FARM"})}),(0,ie.jsxs)("div",{className:"flex md:flex-row flex-col md:mt-0 mt-2.5",children:[(0,ie.jsx)("div",{children:(0,ie.jsx)(i.ol,{search:b,term:g,inputProps:{className:"bg-black-russian dark:bg-white border border-blue-violet w-full focus:border-blue-violet rounded-box focus:placeholder-alabaster dark:focus:placeholder-port-gore placeholder-blue-violet font-normal text-base md:text-lg text-alabaster dark:text-port-gore px-10 md:px-10 py-2"}})}),(0,ie.jsxs)("div",{className:"md:ml-5 ml-0 md:mt-0 mt-2.5 bg-seance rounded-box",children:[(0,ie.jsxs)(i.zx,{onClick:function(){t?(r(!t),p("All")):r(!t)},variant:"seance",size:"default",className:"rounded-box text-sm md:text-base font-medium text-alabaster flex md:justify-between justify-center",children:[t?"All":x,(0,ie.jsx)("span",{children:(0,ie.jsx)(d.v4q,{className:"ml-2.5",width:20,height:20})})]}),t&&(0,ie.jsx)("div",{className:"border border-seance rounded-box ",children:(0,ie.jsx)(i.zx,{variant:"seance",size:"default",onClick:function(){r(!t),p("Double Rewards")},className:"rounded-box text-sm md:text-base font-medium text-alabaster capitalize",children:"Double Rewards"})})]})]})]}),(0,ie.jsx)(Ne,{farms:v,term:g,loading:!(null!==f&&void 0!==f&&f.length)})]})]})}Ee.Guard=(0,i.hJ)([c.a_.EUROPA]);var Ae=Ee},99347:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farm",function(){return r(33800)}])},99548:function(e,t,r){"use strict";var n=r(67294),s=r(45697),a=r.n(s);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=(0,n.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=o(e,["color","size"]);return n.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("polyline",{points:"16 12 12 8 8 12"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="ArrowUpCircle",t.Z=l}},function(e){e.O(0,[9774,2888,179],(function(){return t=99347,e(e.s=t);var t}));var t=e.O();_N_E=t}]);