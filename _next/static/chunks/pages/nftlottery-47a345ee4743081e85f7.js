(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4339],{47248:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(30879),n=s(1427);function a(){var e,t,s=(0,n.gq)();return null===(e=(0,r.Wk)(s,"getCurrentBlockTimestamp"))||void 0===e||null===(t=e.result)||void 0===t?void 0:t[0]}},76111:function(e,t,s){"use strict";s.d(t,{i:function(){return i}});var r=s(30266),n=s(809),a=s.n(n);function i(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t){var s,r,n,i,l,o,c,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:s=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","");case 9:return r=s.body.getReader(),n=new TextDecoder("utf-8"),e.next=13,r.read();case 13:i=e.sent,l=i.value,o=i.done,c=s&&s.ok&&l?n.decode(l):"";case 17:if(o){e.next=26;break}return e.next=20,r.read();case 20:x=e.sent,l=x.value,o=x.done,c+=l?n.decode(l):"",e.next=17;break;case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}},8289:function(e,t,s){"use strict";s.d(t,{Q:function(){return m}});var r=s(30266),n=s(809),a=s.n(n),i=s(67294),l=s(73574),o=s(76111),c=s(42269),x={lotteryAddress:"0x0000000000000000000000000000000000000000",lotteryDrawn:!1,lotteryDuration:"0",lotteryID:"0",lotteryOpen:!1,lotteryRaisedUSD:0,nft:{prizeExist:!1,id:"0",address:"0x0000000000000000000000000000000000000000",description:{description:"",title:"",previewImage:""},visualAppearance:{type:"",model_type:"",surface_wear:0,edge_wear:0,deformation:0,color:""}},prizeDistribution:"50,15,10,5,15,5",ticketPriceInCoins:"0",ticketsRemain:0,ticketsSold:0,ticketsSoldIn:"USDP",tokenAddress:"0x0000000000000000000000000000000000000000",winningNumbers:"",lotteryClosingTimestamp:0,blockTimestamp:0};function m(){var e=(0,i.useState)(x),t=e[0],s=e[1],n=(0,i.useState)(""),m=n[0],u=n[1];return(0,c.Z)((0,r.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.i)(l.Du);case 2:""!==(t=e.sent)&&JSON.stringify(t)!==m&&(u(JSON.stringify(t)),(t=null===(r=JSON.parse(t).result)||void 0===r?void 0:r.lottery).nft.description=JSON.parse(t.nft.description),t.nft.visualAppearance=JSON.parse(t.nft.visualAppearance),s(t));case 4:case"end":return e.stop()}}),e)}))),5e3),(0,i.useMemo)((function(){return t}),[t])}},69896:function(e,t,s){"use strict";s.d(t,{pM:function(){return p},ht:function(){return f}});var r=s(80318),n=s(99548),a=s(84501),i=(s(67294),s(74891)),l=s(33646),o=s(28269),c=s(13369),x=s(20181),m=s(85893),u=function(e){var t=e.onDismiss,s=e.pendingText,n=(0,x.m$)(),a=(0,r.Z)(n,1)[0];return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(i.Tw,{onClick:t})}),(0,m.jsx)("div",{className:"w-24 pb-4 m-auto flex justify-center",children:(0,m.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,m.jsx)("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"#6E67B6",strokeWidth:"4"}),(0,m.jsx)("path",{className:"opacity-75",fill:a?"#231E58":"#F3F2FF",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,m.jsx)("div",{className:"sm:text-xl text-lg font-semibold text-alabaster dark:text-port-gore",children:"Waiting for Confirmation"}),(0,m.jsx)("div",{className:"sm:text-base text-xs text-alabaster dark:text-port-gore",children:s}),(0,m.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore",children:"Confirm this transaction in your wallet."}),(0,m.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore -mt-3",children:"You can close this dialog after confirming."})]})]})},d=function(e){var t,s=e.onDismiss,r=e.chainId,a=e.hash,x=e.currencyToAdd,u=(0,o.a)().library,d=(0,c.Z)(x),p=d.addToken,f=d.success;return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex justify-end hover:text-alabaster dark:hover:text-port-gore",children:(0,m.jsx)(i.Tw,{onClick:s})}),(0,m.jsx)("div",{className:"w-24 pb-4 m-auto",children:(0,m.jsx)(n.Z,{strokeWidth:.5,size:90,className:"text-blue"})}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,m.jsx)("div",{className:"sm:text-xl text-lg font-bold text-alabaster dark:text-port-gore",children:"Transaction Submitted"}),r&&a&&(0,m.jsx)(i.dL,{href:(0,l.E)(r,a,"transaction"),children:(0,m.jsx)("div",{className:"font-bold text-blue sm:text-base text-sm",children:"View on explorer"})}),x&&(null===u||void 0===u||null===(t=u.provider)||void 0===t?void 0:t.isMetaMask)&&(0,m.jsx)(i.zx,{variant:"gradient",onClick:p,className:"w-auto mt-4 font-semibold",children:f?(0,m.jsxs)(i.bs,{children:["Added ",x.symbol]}):(0,m.jsxs)(i.bs,{className:"mx-auto space-x-2",children:[(0,m.jsx)("span",{children:"Add ".concat(x.symbol," to MetaMask")}),(0,m.jsx)("img",{src:"/images/wallets/metamask.png",alt:"Add ".concat(x.symbol," to MetaMask"),width:20,height:20,className:"ml-1"})]})})]})]})},p=function(e){var t=e.title,s=e.bottomContent,r=e.onDismiss,n=e.topContent;return(0,m.jsxs)("div",{className:"grid gap-4",children:[(0,m.jsx)(i.xB,{title:t,onClose:r}),n(),s()]})},f=function(e){var t=e.message,s=e.onDismiss;return(0,m.jsxs)("div",{className:"grid gap-6",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("div",{className:"text-lg font-medium text-alabaster",children:"Error"}),(0,m.jsx)(i.Tw,{onClick:s})]}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,m.jsx)(a.Z,{className:"text-red",style:{strokeWidth:1.5},size:64}),(0,m.jsx)("div",{className:"font-bold text-red",children:t})]})]}),(0,m.jsx)("div",{children:(0,m.jsx)(i.zx,{color:"gradient",size:"lg",onClick:s,children:"Dismiss"})})]})};t.ZP=function(e){var t=e.isOpen,s=e.onDismiss,r=e.attemptingTxn,n=e.hash,a=e.pendingText,l=e.content,c=e.currencyToAdd,x=(0,o.a)().chainId;return x?(0,m.jsx)(i.u_,{isOpen:t,onDismiss:s,maxHeight:90,maxWidth:500,children:r?(0,m.jsx)(u,{onDismiss:s,pendingText:a}):n?(0,m.jsx)(d,{chainId:x,hash:n,onDismiss:s,currencyToAdd:c}):t?l():null}):null}},23028:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var r=s(92809),n=s(30266),a=s(809),i=s.n(a),l=s(74891),o=s(9008),c=s(67294),x=s(37526),m=s(26367),u=s(93942),d=s(54663),p=s(40434),f=s(30463),b=s(69896),h=s(1427),g=s(99123),j=s(38202),v=s(89638),k=s(52118),N=s(85893);function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function T(){var e=(0,d.oL)(p.Lk.BUYTICKETS),t=(0,d.fM)(),s=(0,d.Z9)(),r=(0,g.h7)(),a=(0,f.aQ)(),o=a.account,x=a.chainId,w=a.library,T=(0,d.Ov)(),C=(0,h.l9)(),S=(0,c.useState)(null),O=S[0],M=S[1],z=(0,c.useState)(0),D=z[0],P=z[1],E=(0,c.useState)(0),B=E[0],R=E[1],Z=(0,c.useState)(0),F=Z[0],I=Z[1],_=(0,c.useState)(0),A=_[0],L=_[1],W=(0,c.useState)(0),H=W[0],U=W[1],J=(0,c.useState)(null),Y=J[0],Q=J[1],$=(0,c.useState)(""),q=$[0],V=$[1],X=(0,c.useState)(18),G=X[0],K=X[1],ee=(0,c.useState)({showConfirm:!1,attemptingTxn:!1,errorMessage:void 0,txHash:void 0,pendingText:void 0}),te=ee[0],se=te.showConfirm,re=te.errorMessage,ne=te.attemptingTxn,ae=te.txHash,ie=te.pendingText,le=ee[1],oe=(0,c.useCallback)((function(){le((function(e){return y(y({},e),{},{showConfirm:!1,attemptingTxn:!1})}))}),[ne,re,ae]),ce=(0,c.useCallback)((function(){return re?(0,N.jsx)(b.ht,{onDismiss:oe,message:re}):(0,N.jsx)(b.pM,{title:"Confirm",onDismiss:oe,topContent:function(){return""},bottomContent:function(){return""}})}),[oe,re]),xe=(0,u.I0)();(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!C){e.next=5;break}return e.next=3,C.getCurrentLotto();case 3:t=e.sent,M((0,m.uN)(t,j,w,o));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,x,w,C,T]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!O){e.next=40;break}return e.prev=1,e.t0=R,e.next=5,O.costToBuyTickets(1);case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=I,e.t3=Number,e.next=11,O.getLotterySize();case 11:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),(0,e.t2)(e.t5),e.t6=L,e.t7=Number,e.next=18,O.getTicketsRemaining();case 18:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),(0,e.t6)(e.t9),e.next=23,O.getTicketERC20();case 23:return t=e.sent,Q((0,m.uN)(t,v,w,o)),e.t10=V,e.next=28,O.getTicketERC20Symbol();case 28:return e.t11=e.sent,(0,e.t10)(e.t11),e.t12=Number,e.next=33,O.getTicketERC20Decimals();case 33:e.t13=e.sent,s=(0,e.t12)(e.t13),K(s),e.next=40;break;case 38:e.prev=38,e.t14=e.catch(1);case 40:case"end":return e.stop()}}),e,null,[[1,38]])})));return function(){return e.apply(this,arguments)}})()()}),[o,x,w,O,T]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!Y){e.next=8;break}return e.t0=U,e.t1=Number,e.next=5,Y.balanceOf(o);case 5:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,Y,T]);var me=function(){var e=(0,n.Z)(i().mark((function e(){var s,n,a,l,o,c,x,m,u,d,p,f,b,h,g,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=62;break}s=[],0,n=Math.pow(10,F),a=150;case 5:if(!(s.length<D)){e.next=47;break}l=[],(o=a)>n-s.length&&(o=n-s.length),c=0;case 10:if(!(c<o)){e.next=40;break}case 11:0,x=Math.floor(Math.random()*n),m=0,e.t0=i().keys(s);case 15:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,d=s[u],Number(d)!==x){e.next=21;break}return m=1,e.abrupt("break",23);case 21:e.next=15;break;case 23:e.t2=i().keys(l);case 24:if((e.t3=e.t2()).done){e.next=32;break}if(p=e.t3.value,f=l[p],Number(f)!==x){e.next=30;break}return m=1,e.abrupt("break",32);case 30:e.next=24;break;case 32:if(0!=m){e.next=35;break}return l.push(x),e.abrupt("break",37);case 35:e.next=11;break;case 37:c++,e.next=10;break;case 40:return e.next=42,O.areTicketsAvailable(l);case 42:for(b=e.sent,h=0;h<b.length&&s.length<D;h++)Boolean(b[h])&&s.push(l[h]);e.next=5;break;case 47:return e.prev=47,e.next=50,O.buyTicket(D,s);case 50:return g=e.sent,j="Bought ".concat(D," tickets"),r(g,{summary:j}),t(),e.next=56,g.wait();case 56:le((function(e){return y(y({},e),{},{showConfirm:!1,attemptingTxn:!1})})),e.next=62;break;case 59:e.prev=59,e.t4=e.catch(47),4001===(null===e.t4||void 0===e.t4?void 0:e.t4.code)?le((function(e){return y(y({},e),{},{attemptingTxn:!1,errorMessage:"Transaction rejected."})})):le((function(t){return y(y({},t),{},{attemptingTxn:!1,errorMessage:"Buy Tickets failed: ".concat(e.t4)})}));case 62:case"end":return e.stop()}}),e,null,[[47,59]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.u_,{isOpen:e,onDismiss:t,maxWidth:576,className:"!p-0 dark:!bg-alabaster",children:[(0,N.jsx)(l.xB,{onClose:t,title:"Buy Tickets",className:"bg-port-gore dark:bg-light p-6"}),(0,N.jsxs)("div",{className:"flex flex-col gap-y-6 px-6 pt-2 pb-6",children:[(0,N.jsxs)("div",{className:"bg-port-gore dark:bg-light border border-blue-violet rounded p-6",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("p",{className:"text-blue-violet sm:text-base text-sm font-medium",children:"Buy"}),(0,N.jsx)("p",{className:"text-alabaster dark:text-black-russian sm:text-base text-sm font-normal",children:"Tickets"})]}),(0,N.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-y-2.5 bg-black-russian dark:bg-white border border-alabaster dark:border-black-russian rounded-[10px] p-3.5 mt-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(l.$n,{className:"w-40 bg-transparent text-white dark:text-black-russian sm:text-2xl text-xl font-semibold",value:""+D,onUserInput:function(e){var t=Number(e);t>A&&(t=A),P(t)}}),(0,N.jsxs)("p",{className:"text-blue-violet sm:text-base text-xs font-normal",children:["~",B/Math.pow(10,G)," ",q]})]}),(0,N.jsxs)("div",{className:"flex gap-x-2.5",children:[(0,N.jsx)("button",{className:"rounded-[5px] bg-port-gore dark:bg-light py-1 sm:px-5 px-3.5 text-alabaster dark:text-black-russian font-normal sm:text-sm text-xs",onClick:function(){return P(Math.min(1,A))},children:"1"}),(0,N.jsx)("button",{className:"rounded-[5px] bg-port-gore dark:bg-light py-1 sm:px-5 px-3.5 text-alabaster dark:text-black-russian font-normal sm:text-sm text-xs",onClick:function(){return P(Math.min(2,A))},children:"2"}),(0,N.jsx)("button",{className:"rounded-[5px] bg-port-gore dark:bg-light py-1 sm:px-5 px-3.5 text-alabaster dark:text-black-russian font-normal sm:text-sm text-xs",onClick:function(){return P(Math.min(5,A))},children:"5"})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-x-2.5 mt-2.5 text-alabaster dark:text-black-russian sm:text-base text-sm font-normal",children:[(0,N.jsxs)("p",{children:[q," Balance:"]}),(0,N.jsx)("p",{className:"font-semibold",children:H&&(H/Math.pow(10,G)).toFixed(2)})]}),(0,N.jsxs)("div",{className:"flex items-center gap-x-2.5 mt-2.5 text-alabaster dark:text-black-russian sm:text-base text-sm font-normal",children:[(0,N.jsx)("p",{children:"Tickets Available:"}),(0,N.jsx)("p",{className:"font-semibold",children:A})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-y-4 text-blue-violet sm:text-base text-sm font-normal",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsxs)("p",{children:["Cost (",q,")"]}),(0,N.jsxs)("p",{children:[B/Math.pow(10,G)*D," ",q]})]}),(0,N.jsx)("div",{className:"bg-white dark:bg-black-russian h-px"}),(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("p",{children:"You pay"}),(0,N.jsxs)("p",{className:"text-white dark:text-black-russian font-semibold",children:["~",B/Math.pow(10,G)*D," ",q]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,N.jsx)(l.zx,{size:"sm",className:"sm:text-lg text-base font-semibold",disabled:!H||H<B*D,onClick:function(){return le((function(e){return y(y({},e),{},{showConfirm:!0,attemptingTxn:!0,pendingText:"Buying ".concat(D," tickets"),errorMessage:null})})),void me()},children:"Buy Instantly"}),(0,N.jsx)(l.zx,{variant:"violet",size:"sm",className:"text-black-russian dark:text-alabaster sm:text-lg text-base font-semibold",disabled:!H||H<B*D,onClick:function(){xe((0,k.j)({ticketCountToBuy:D})),s()},children:"View / Edit numbers"})]}),(0,N.jsx)("p",{className:"text-blue-violet sm:text-sm text-xs font-normal",children:'"Buy Instantly" chooses random numbers, with no duplicates among your tickets. Prices are set before each\n            round starts. Purchases are final.'})]})]}),(0,N.jsx)(b.ZP,{isOpen:se,onDismiss:oe,attemptingTxn:ne,content:ce,pendingText:ie})]})}var C=s(80318),S=s(29163),O=s(20181);function M(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?M(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var D=S.ZP.div.withConfig({displayName:"EditNumbersModal__RandomNumbersView",componentId:"sc-18quzr0-0"})(["&::-webkit-scrollbar{width:8px;}&::-webkit-scrollbar-thumb{border-radius:4px;background-color:#6e67b6;}&::-webkit-scrollbar-track{background:",";border-radius:4px;}"],(function(e){return e.darkmode?"#FCFCFC":" #02001F"}));function P(){var e=(0,d.oL)(p.Lk.EDITNUMBERS),t=(0,d.Z9)(),s=(0,d.fM)(),r=(0,O.m$)(),a=(0,C.Z)(r,2),o=a[0],x=(a[1],(0,f.aQ)()),v=x.account,k=x.chainId,w=x.library,y=(0,g.h7)(),T=(0,d.Ov)(),S=(0,h.l9)(),M=(0,c.useState)(null),P=M[0],E=M[1],B=(0,c.useState)(0),R=B[0],Z=B[1],F=(0,u.v9)((function(e){return e.lottery.ticketCountToBuy})),I=(0,c.useState)([]),_=I[0],A=I[1],L=(0,c.useState)([]),W=L[0],H=L[1],U=(0,c.useState)(0),J=U[0],Y=U[1],Q=(0,c.useState)(""),$=Q[0],q=Q[1],V=(0,c.useState)(18),X=V[0],G=V[1],K=(0,c.useState)({showConfirm:!1,attemptingTxn:!1,errorMessage:void 0,txHash:void 0,pendingText:void 0}),ee=K[0],te=ee.showConfirm,se=ee.errorMessage,re=ee.attemptingTxn,ne=ee.txHash,ae=ee.pendingText,ie=K[1],le=(0,c.useCallback)((function(){ie({showConfirm:!1,attemptingTxn:!1,errorMessage:se,txHash:ne,pendingText:ae})}),[re,se,ne]),oe=(0,c.useCallback)((function(){return se?(0,N.jsx)(b.ht,{onDismiss:le,message:se}):(0,N.jsx)(b.pM,{title:"Confirm",onDismiss:le,topContent:function(){return""},bottomContent:function(){return""}})}),[le,se]);(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[_,P]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=5;break}return e.next=3,S.getCurrentLotto();case 3:t=e.sent,E((0,m.uN)(t,j,w,v));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v,k,w,S,T]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=24;break}return e.t0=Z,e.next=4,P.costToBuyTickets(1);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=Y,e.t3=Number,e.next=10,P.getLotterySize();case 10:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),(0,e.t2)(e.t5),e.t6=q,e.next=16,P.getTicketERC20Symbol();case 16:return e.t7=e.sent,(0,e.t6)(e.t7),e.t8=Number,e.next=21,P.getTicketERC20Decimals();case 21:e.t9=e.sent,t=(0,e.t8)(e.t9),G(t);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v,k,w,P]);var ce=function(){var e=(0,n.Z)(i().mark((function e(){var t,s,r,n,a,l,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],s=[],r=Math.pow(10,J),n=0;case 4:if(!(n<F)){e.next=26;break}case 5:0,a=Math.floor(Math.random()*r),l=0,e.t0=i().keys(t);case 9:if((e.t1=e.t0()).done){e.next=17;break}if(o=e.t1.value,c=t[o].content,Number(c)!==a){e.next=15;break}return l=1,e.abrupt("break",17);case 15:e.next=9;break;case 17:if(0!=l){e.next=21;break}return t.push(a),s.push(!0),e.abrupt("break",23);case 21:e.next=5;break;case 23:n++,e.next=4;break;case 26:A(t),H(s);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ce()}),[F]);var xe=function(){var e=(0,n.Z)(i().mark((function e(){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.buyTicket(F,_);case 3:return s=e.sent,r="Bought ".concat(F," tickets"),y(s,{summary:r}),t(),e.next=9,s.wait();case 9:ie({showConfirm:!1,attemptingTxn:!1,errorMessage:se,txHash:ne,pendingText:ae}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?ie((function(e){return z(z({},e),{},{attemptingTxn:!1,errorMessage:"Transaction rejected."})})):ie((function(t){return z(z({},t),{},{attemptingTxn:!1,errorMessage:"Buy Tickets failed: ".concat(e.t0)})}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),me=function(e){for(var t=0;t<e.length;t++)if(0==e[t])return!1;return!0};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.u_,{isOpen:e,onDismiss:t,maxWidth:576,className:"!p-0 dark:!bg-alabaster",children:[(0,N.jsx)(l.xB,{onClose:t,title:"Edit numbers",className:"bg-port-gore dark:bg-light p-6"}),(0,N.jsxs)("div",{className:"flex flex-col gap-y-6 px-6 pt-2 pb-6",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("p",{className:"text-blue-violet sm:text-lg text-base font-normal",children:"Total cost:"}),(0,N.jsxs)("p",{className:"text-white dark:text-black-russian sm:text-lg text-base font-semibold",children:["~",R*Number(F)/Math.pow(10,X)," ",$]})]}),(0,N.jsx)("p",{className:"text-blue-violet sm:text-sm text-xs font-normal",children:"Numbers are randomized, with no duplicates among your tickets. Tap a number to edit it. Available digits: 0-9"}),(0,N.jsx)(l.zx,{variant:"violet",size:"sm",className:"text-black-russian dark:text-alabaster sm:text-lg text-base font-semibold",onClick:function(){return ce()},children:"Randomize"}),!me(W)&&(0,N.jsx)("p",{className:"text-red sm:text-sm text-xs font-normal",children:"Some tickets are duplicated, please choose other ticket numbers"}),(0,N.jsx)("div",{className:"bg-port-gore dark:bg-light border border-blue-violet rounded p-6",children:(0,N.jsx)(D,{darkmode:o,className:"flex flex-col pr-4 gap-y-6 h-96 overflow-y-scroll",children:_.map((function(e,t){return(0,N.jsx)("div",{children:(0,N.jsx)("div",{className:"flex justify-between bg-black-russian dark:bg-alabaster border ".concat(W[t]?"border-alabaster dark:border-black-russian":"border-red"," rounded mt-2.5 px-7 py-3.5"),children:(0,N.jsx)(l.$n,{value:("00000000"+e).slice(-J),onUserInput:function(){var e=(0,n.Z)(i().mark((function e(s){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object.assign([],_),n=Number(("00000000"+s).slice(-J)),r[t]=n,A(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})},t)}))})}),(0,N.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,N.jsx)(l.zx,{size:"sm",className:"sm:text-lg text-base font-semibold",onClick:(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.areTicketsAvailable(_);case 2:if(t=e.sent,H(t),me(t)){e.next=6;break}return e.abrupt("return");case 6:ie({showConfirm:!0,attemptingTxn:!0,errorMessage:null,txHash:ne,pendingText:"Buying ".concat(F," tickets")}),xe();case 8:case"end":return e.stop()}}),e)}))),children:"Confirm & buy"}),(0,N.jsx)(l.zx,{variant:"violet",size:"sm",className:"text-black-russian dark:text-alabaster sm:text-lg text-base font-semibold",onClick:function(){return s()},children:"Go Back"})]})]})]}),(0,N.jsx)(b.ZP,{isOpen:te,onDismiss:le,attemptingTxn:re,content:oe,pendingText:ae})]})}function E(){var e=(0,d.oL)(p.Lk.COLLECTWIN_RUBY),t=(0,d.zW)(),s=(0,O.m$)(),r=(0,C.Z)(s,2);r[0],r[1];return(0,N.jsxs)(l.u_,{isOpen:e,onDismiss:t,maxWidth:576,className:"!p-0 dark:!bg-alabaster",children:[(0,N.jsx)(l.xB,{onClose:t,title:"Collect winnings",className:"bg-port-gore dark:bg-light p-6"}),(0,N.jsxs)("div",{className:"flex flex-col gap-y-6 px-6 pt-2 pb-6",children:[(0,N.jsxs)("div",{className:"flex sm:flex-row flex-col justify-between bg-port-gore dark:bg-light rounded-[10px] border border-blue-violet p-6",children:[(0,N.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,N.jsx)("p",{className:"sm:text-2xl text-xl font-medium text-blue-violet",children:"You won"}),(0,N.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,N.jsx)("img",{src:"/images/tokens/ruby-square.png",className:"sm:w-12 sm:h-12 w-10 h-10",alt:"RubyCoin"}),(0,N.jsx)("p",{className:"text-alabaster dark:text-black-russian sm:text-5xl text-4xl font-semibold",children:"867"})]}),(0,N.jsx)("p",{className:"sm:text-2xl text-xl font-medium text-blue-violet",children:"~$ 1,008"})]}),(0,N.jsx)("div",{className:"w-36 h-36 bg-black-russian dark:bg-alabaster rounded-xl grid place-content-center sm:mt-0 mt-6",children:(0,N.jsx)("img",{src:"/images/nftlottery/trophy1.png",className:"w-20 h-20"})})]}),(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-y-6",children:[(0,N.jsx)(l.zx,{size:"sm",className:"w-full sm:w-max uppercase sm:text-base text-sm px-6",children:"Claim"}),(0,N.jsx)("p",{className:"sm:text-sm text-xs font-bold text-light dark:text-port-gore",children:"Round #383"})]})]})]})}function B(){var e=(0,d.oL)(p.Lk.COLLECTWIN_NFT),t=(0,d.g1)();return(0,N.jsxs)(l.u_,{isOpen:e,onDismiss:t,maxWidth:576,className:"!p-0 dark:!bg-alabaster",children:[(0,N.jsx)(l.xB,{onClose:t,title:"Collect winnings",className:"bg-port-gore dark:bg-light p-6"}),(0,N.jsxs)("div",{className:"flex flex-col gap-y-6 px-6 pt-2 pb-6",children:[(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-y-6 bg-port-gore dark:bg-light rounded-[10px] p-6 border border-blue-violet",children:[(0,N.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,N.jsx)("p",{className:"sm:text-2xl text-xl font-medium text-blue-violet",children:"You won"}),(0,N.jsx)("p",{className:"sm:text-5xl text-4xl font-semibold text-alabaster dark:text-black-russian",children:"Ruby NFT #383"})]}),(0,N.jsx)("div",{className:"sm:w-max w-full h-auto flex justify-center items-center bg-seance border border-alabaster rounded-[10px]",children:(0,N.jsx)("img",{src:"/images/nftmarketplace/ruby1.png",className:"w-3/6",alt:""})})]}),(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-y-6",children:[(0,N.jsx)(l.zx,{size:"sm",className:"w-full sm:w-max px-6 sm:text-base text-sm uppercase",children:"Claim"}),(0,N.jsx)("p",{className:"sm:text-sm text-xs font-bold text-light dark:text-port-gore",children:"Round #383"})]})]})]})}var R=s(47786),Z=s(47248),F=s(64260),I=s(2942),_=s(41664),A=s(8289);function L(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function W(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?L(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function H(){var e=(0,d.fM)(),t=(0,f.aQ)(),s=t.account,r=t.chainId,a=t.library,u=(0,d.Ov)(),p=(0,Z.Z)(),k=(0,g.h7)(),w=(0,h.l9)(),y=(0,c.useState)(null),C=y[0],S=y[1],O=(0,c.useState)(null),M=O[0],z=O[1],D=(0,c.useState)(null),L=D[0],H=D[1],U=(0,c.useState)(null),J=U[0],Y=U[1],Q=(0,c.useState)(0),$=Q[0],q=Q[1],V=(0,c.useState)(0),X=V[0],G=V[1],K=(0,c.useState)(!1),ee=K[0],te=K[1],se=(0,c.useState)(""),re=se[0],ne=se[1],ae=(0,c.useState)(""),ie=ae[0],le=ae[1],oe=(0,c.useState)(""),ce=oe[0],xe=oe[1],me=(0,c.useState)([]),ue=me[0],de=me[1],pe=(0,c.useState)(""),fe=pe[0],be=pe[1],he=(0,c.useState)(18),ge=he[0],je=he[1],ve=(0,c.useState)(0),ke=ve[0],Ne=ve[1],we=(0,c.useState)(0),ye=we[0],Te=we[1],Ce=(0,c.useState)(-1),Se=Ce[0],Oe=Ce[1],Me=(0,c.useState)(!1),ze=Me[0],De=Me[1],Pe=(0,c.useState)([]),Ee=Pe[0],Be=Pe[1],Re=(0,c.useState)(0),Ze=Re[0],Fe=Re[1],Ie=(0,c.useState)(!1),_e=Ie[0],Ae=Ie[1],Le=(0,c.useState)(0),We=Le[0],He=Le[1],Ue=(0,c.useState)(0),Je=Ue[0],Ye=Ue[1],Qe=(0,c.useState)(0),$e=Qe[0],qe=Qe[1],Ve=(0,c.useState)(0),Xe=Ve[0],Ge=Ve[1],Ke=(0,c.useState)(0),et=Ke[0],tt=Ke[1],st=(0,c.useState)(0),rt=st[0],nt=st[1],at=(0,c.useState)(!1),it=at[0],lt=at[1],ot=(0,c.useState)(""),ct=ot[0],xt=ot[1],mt=(0,c.useState)(!1),ut=mt[0],dt=mt[1],pt=(0,c.useState)(0),ft=pt[0],bt=pt[1],ht=(0,c.useState)(""),gt=ht[0],jt=ht[1],vt=(0,c.useState)(!1),kt=vt[0],Nt=vt[1],wt=(0,c.useState)([]),yt=wt[0],Tt=wt[1],Ct=(0,c.useState)([]),St=Ct[0],Ot=Ct[1],Mt=(0,c.useState)(0),zt=Mt[0],Dt=Mt[1],Pt=(0,c.useState)(!1),Et=Pt[0],Bt=Pt[1],Rt=(0,c.useState)(""),Zt=Rt[0],Ft=Rt[1],It=(0,c.useState)(18),_t=(It[0],It[1]),At=(0,c.useState)(0),Lt=At[0],Wt=At[1],Ht=(0,c.useState)(!1),Ut=Ht[0],Jt=Ht[1],Yt=(0,A.Q)(),Qt=(0,c.useState)(""),$t=Qt[0],qt=Qt[1],Vt=(0,c.useState)(""),Xt=Vt[0],Gt=Vt[1],Kt=(0,c.useState)({showConfirm:!1,attemptingTxn:!1,errorMessage:void 0,txHash:void 0,pendingText:void 0}),es=Kt[0],ts=es.showConfirm,ss=es.errorMessage,rs=es.attemptingTxn,ns=es.txHash,as=es.pendingText,is=Kt[1],ls=(0,c.useCallback)((function(){is({showConfirm:!1,attemptingTxn:rs,errorMessage:ss,txHash:ns,pendingText:as})}),[rs,ss,ns]),os=(0,c.useCallback)((function(){return ss?(0,N.jsx)(b.ht,{onDismiss:ls,message:ss}):(0,N.jsx)(b.pM,{title:"Confirm",onDismiss:ls,topContent:function(){return""},bottomContent:function(){return""}})}),[ls,ss]),cs=function(){var e=(0,n.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is((function(e){return W(W({},e),{},{showConfirm:!0,attemptingTxn:!0,pendingText:"Approving ".concat(fe," Token"),errorMessage:null})})),e.prev=1,e.next=4,J.approve(C.address,"".concat(We*Ze).concat("0".repeat(ge)));case 4:return t=e.sent,s="Approved ".concat(fe," Token"),k(t,{summary:s}),e.next=9,t.wait();case 9:De(!0),is((function(e){return W(W({},e),{},{showConfirm:!1,attemptingTxn:!1,txHash:t.hash})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?is((function(e){return W(W({},e),{},{attemptingTxn:!1,errorMessage:"Transaction rejected."})})):is((function(t){return W(W({},t),{},{attemptingTxn:!1,errorMessage:"Approve failed: ".concat(e.t0)})}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),xs=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is((function(e){return W(W({},e),{},{showConfirm:!0,attemptingTxn:!0,pendingText:"Claiming Lottery Rewards",errorMessage:null})})),e.prev=1,e.next=4,L.claimReward();case 4:return t=e.sent,"Reward Claimed",k(t,{summary:"Reward Claimed"}),is((function(e){return W(W({},e),{},{showConfirm:!1,attemptingTxn:!1,txHash:t.hash})})),e.next=10,t.wait();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?is((function(e){return W(W({},e),{},{attemptingTxn:!1,errorMessage:"Transaction rejected."})})):is((function(t){return W(W({},t),{},{attemptingTxn:!1,errorMessage:"Claim Reward failed: ".concat(e.t0)})}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(J&&C&&s)){e.next=9;break}return e.t0=De,e.t1=Number,e.next=5,J.allowance(s,C.address);case 5:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=e.t3>0,(0,e.t0)(e.t4);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,J,C,u]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t,r,n,l,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w||!s){e.next=19;break}return e.t0=Number,e.next=4,w.getCurrentLottoryId();case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=8,w.getCurrentLotto();case 8:if(r=e.sent,S(new F.CH(r,j)),q(Number(t)),!($e>0)){e.next=17;break}return e.next=14,w.getLotto($e);case 14:n=e.sent,z(new F.CH(n,j)),H((0,m.uN)(n,j,a,s));case 17:e.next=23;break;case 19:l=Number(Yt.lotteryID),o=Yt.lotteryAddress,S(new F.CH(o,j)),q(Number(l));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,w,$e,u,Yt]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t,n,l,o,c,u,d,p,f,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=58;break}if(!C||!s){e.next=42;break}return e.prev=2,e.next=5,(0,x.y5)(a,r);case 5:if((t=e.sent)&&t.multicallAddress){e.next=8;break}return e.abrupt("return");case 8:return(n=[]).push(C.getClosingTimestamp(),C.getTickets(s),C.getLotterySize(),C.getTicketERC20(),C.getNftDescription(),C.getTicketERC20Symbol(),C.getTicketERC20Decimals(),C.costToBuyTickets(1),C.getTotalRuby(),C.getBonusId(),C.hasNFTPrize(),C.getDistibution(),C.isClosed(),C.getTicketsRemaining(),C.getBonusNFT()),e.next=12,t.all(n,0);case 12:l=e.sent,Te(Number(l[0])),Be(l[1]),Ye(Number(l[2])),o=String(l[3]),Y((0,m.uN)(o,v,a,s)),c=JSON.parse(String(l[4])),le(c.title),xe(c.description),be(String(l[5])),u=Number(l[6]),je(u),He(Number(l[7])/Math.pow(10,u)),Ne(Number((Number(l[8])/Math.pow(10,u)).toFixed(2))),G(Number(l[9])),te(Boolean(l[10])),Boolean(l[10])||qt(String(l[5]).toUpperCase()),Oe(Boolean(l[12])?1:0),Fe(Number(l[13])),ne(String(l[14])),d=(d=l[11]).slice(0,-1),p=d.map((function(e,t){var s,r;return t==d.length-1?(s="Burn",r="text-amaranth"):(s="Winner ".concat(t+1),r="text-blue-violet"),{title:s,title_color:r,value1:e,value2:ke*Number(e)/100}})),de(p),e.next=40;break;case 38:e.prev=38,e.t0=e.catch(2);case 40:e.next=58;break;case 42:be(String(Yt.ticketsSoldIn)),He(Number(Yt.ticketPriceInCoins)),Ne(Number((Number(Yt.ticketsSold)*Number(Yt.ticketPriceInCoins)).toFixed(2))),G(Number(Yt.nft.id)),te(Boolean(Yt.nft.prizeExist)),le(Yt.nft.description.title),xe(Yt.nft.description.description),Oe(Yt.lotteryOpen?0:1),Fe(Number(Yt.ticketsRemain)),ne(String(Yt.nft.address)),Te(Number(Yt.lotteryClosingTimestamp)),Boolean(Yt.nft.prizeExist)||qt(String(Yt.ticketsSoldIn).toUpperCase()),f=(f=Yt.prizeDistribution.split(",")).slice(0,-1),b=f.map((function(e,t){var s,r;return t==f.length-1?(s="Burn",r="text-amaranth"):(s="Winner ".concat(t+1),r="text-blue-violet"),{title:s,title_color:r,value1:e,value2:ke*Number(e)/100}})),de(b);case 58:case"end":return e.stop()}}),e,null,[[2,38]])})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,C,ke,M,$,u,Yt]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t,n,l,o,c,m,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M||!s){e.next=46;break}return e.prev=1,e.next=4,(0,x.y5)(a,r);case 4:if((t=e.sent)&&t.multicallAddress){e.next=7;break}return e.abrupt("return");case 7:return(n=[]).push(M.getClosingTimestamp(),M.getLotterySize(),M.getBonusId(),M.getNftDescription(),M.getClaimed(s),M.isDrawn(),M.hasNFTPrize(),M.getTicketERC20Symbol(),M.getTicketERC20Decimals(),M.getTotalRuby(),M.getBonusNFT()),e.next=11,t.all(n,0);case 11:if(l=e.sent,Ge(Number(l[0])),Dt(Number(l[1])),bt(Number(l[2])),o=String(l[3]),c=JSON.parse(o),jt(c.title),Bt(Boolean(l[4])),lt(Boolean(l[6])),Boolean(l[6])?Gt(""):Gt(String(l[7]).toUpperCase()),Ft(String(l[7])),_t(Number(l[8])),m=Number(l[8]),Wt(Number(l[9])/Math.pow(10,m)),xt(String(l[10])),!M||!Boolean(l[5])){e.next=37;break}return n=[M.getRewardAmount(s),M.getRewardNFT(s),M.getWinningNumbers(),M.getWinningAddresses()],e.next=30,t.all(n,0);case 30:u=e.sent,nt(Number(u[0])/Math.pow(10,m)),dt(Boolean(u[1])),Tt(u[2]),Ot(u[3]),e.next=41;break;case 37:nt(0),dt(!1),Tt([]),Ot([]);case 41:Jt(!1),e.next=46;break;case 44:e.prev=44,e.t0=e.catch(1);case 46:case"end":return e.stop()}}),e,null,[[1,44]])})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,M,u]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&$&&-1!=Se&&(0==Se?(tt($-1),0==$e&&qe($-1)):(tt($),0==$e&&qe($)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,Se,$,$e]),(0,c.useMemo)((function(){(function(){var e=(0,n.Z)(i().mark((function e(){var t,n,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C||!s){e.next=18;break}return e.prev=1,e.next=4,(0,x.y5)(a,r);case 4:if((t=e.sent)&&t.multicallAddress){e.next=7;break}return e.abrupt("return");case 7:return(n=[]).push(C.getTickets(s),C.getClosingTimestamp()),e.next=11,t.all(n,0);case 11:l=e.sent,Be(l[0]),Te(Number(l[1])),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}})()()}),[s,r,a,u,C]),(0,N.jsxs)(l.W2,{id:"nftlottery-page",className:"lg:pt-61px md:py-12 py-8 space-y-6 px-6",maxWidth:"7xl",children:[(0,N.jsxs)(o.default,{children:[(0,N.jsx)("title",{children:"NFTRaffle | Ruby.Exchange"}),(0,N.jsx)("meta",{name:"description",content:"Profile page."},"description")]}),(0,N.jsxs)("div",{className:"flex flex-col items-center gap-y-6 md:gap-y-24",children:[(0,N.jsxs)("div",{className:"dark:bg-alabaster bg-black-russian border border-blue-violet rounded-[10px] w-full overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-2xl text-xl font-bold p-6",children:"Current Raffle"}),1==Se&&(0,N.jsx)("p",{className:"text-black-russian sm:text-sm text-xs font-medium bg-lima sm:p-2.5 p-2 rounded-[10px] w-max",children:"Finished"}),(0,N.jsxs)("p",{className:"text-light dark:text-port-gore sm:text-2xl text-xl font-bold p-6 ml-auto",children:["#",$]})]}),(0,N.jsxs)("div",{className:"dark:bg-light bg-port-gore grid lg:grid-cols-3 lg:p-12 p-6",children:[(0,N.jsxs)("div",{className:"lg:col-span-2 col-span-1 justify-between",children:[(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-4xl text-3xl font-bold",children:"Prize Pool"}),(0,N.jsxs)("div",{className:"flex lg:flex-row flex-col gap-x-6 mt-6",children:[(0,N.jsx)("p",{className:"text-alabaster dark:text-port-gore sm:text-7xl text-6xl font-semibold",children:ke}),(0,N.jsxs)("div",{className:"flex items-center gap-x-2.5 bg-black-russian dark:bg-white rounded-xl p-2.5 w-max lg:mt-0 mt-6",children:[(0,N.jsx)("p",{className:"sm:w-2.5 sm:h-2.5 w-2 h-2 rounded-full bg-amaranth"}),(0,N.jsxs)("p",{className:"text-amaranth sm:text-2xl text-xl font-bold",children:[(0,N.jsx)("span",{className:"uppercase",children:fe})," pot"]})]})]}),ee?(0,N.jsxs)("div",{className:"flex lg:flex-row flex-col gap-x-6 mt-6 lg:mr-6 mr-0",children:[(0,N.jsx)(_.default,{href:(0,m.t5)(r,re,X),children:(0,N.jsxs)("p",{className:"flex justify-center text-alabaster dark:text-port-gore sm:text-5xl text-4xl font-semibold cursor-pointer",children:["".concat(ie," #").concat(X),(0,N.jsx)(I.tEF,{className:"sm:w-6 sm:h-6 w-5 h-5 my-auto hover:rotate-180 duration-300 lg:ml-2.5 ml-auto"})]})}),(0,N.jsxs)("div",{className:"flex items-center gap-x-2.5 bg-black-russian dark:bg-white rounded-xl p-2.5 w-max lg:mt-0 mt-6",children:[(0,N.jsx)("p",{className:"sm:w-2.5 sm:h-2.5 w-2 h-2 rounded-full bg-amaranth"}),(0,N.jsx)("p",{className:"text-amaranth sm:text-2xl text-xl font-bold",children:"NFT pot"})]})]}):"",(0,N.jsxs)("p",{className:"text-blue-violet sm:text-lg text-base font-medium mt-4",children:[We," ",fe," per ticket, ",Ze," tickets remaining"]})]}),(0,N.jsx)("div",{className:"col-span-1 flex justify-center lg:order-last order-first",children:(0,N.jsx)("div",{className:"py-auto w-full flex justify-center items-center",children:(0,N.jsx)("img",{src:"/images/nftlottery/".concat($t.toUpperCase(),"_pot.png"),alt:""})})})]}),(0,N.jsx)(l.UQ,{title:"Details",children:(0,N.jsx)("div",{className:"p-6 bg-port-gore dark:bg-light border-t border-blue-violet",children:(0,N.jsx)("p",{className:"text-blue-violet font-medium",children:ee?ce:"This raffle has only a cash prize"})})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-4 w-full",children:[(0,N.jsxs)("div",{className:"col-span-4 md:col-span-1 rounded-[10px] bg-port-gore dark:bg-light border border-blue-violet p-6",children:[(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-2xl text-xl font-bold capitalize",children:"Get your tickets now"}),(0,N.jsxs)("div",{className:"flex flex-wrap lg:justify-start md:justify-center justify-start gap-x-4 mt-6",children:[(0,N.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,N.jsx)("p",{className:"bg-amaranth text-light sm:text-4xl text-3xl font-semibold p-2 rounded-xl",children:ye>Number(p)?("0"+Math.floor((ye-Number(p))/60/60/24)).slice(-2):"00"}),(0,N.jsx)("p",{className:"text-white dark:text-port-gore sm:text-base text-sm font-medium",children:"day"})]}),(0,N.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,N.jsx)("p",{className:"bg-amaranth text-light sm:text-4xl text-3xl font-semibold p-2 rounded-xl",children:ye>Number(p)?("0"+Math.floor((ye-Number(p))/60/60)%24).slice(-2):"00"}),(0,N.jsx)("p",{className:"text-white dark:text-port-gore sm:text-base text-sm font-medium",children:"hr"})]}),(0,N.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,N.jsx)("p",{className:"bg-amaranth text-light sm:text-4xl text-3xl font-semibold p-2 rounded-xl",children:ye>Number(p)?("0"+Math.floor((ye-Number(p))/60)%60).slice(-2):"00"}),(0,N.jsx)("p",{className:"text-white dark:text-port-gore sm:text-base text-sm font-medium",children:"min"})]})]}),0==Se&&(0,N.jsx)("p",{className:"text-blue-violet sm:text-base text-sm font-medium mt-4",children:"until the draw"})]}),(0,N.jsxs)("div",{className:"col-span-4 md:col-span-3 border border-blue-violet rounded-[10px] bg-black-russian dark:bg-white text-light dark:text-port-gore md:ml-6 ml-0 md:mt-0 mt-6",children:[(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-6 bg-port-gore dark:bg-light rounded-t-[10px]",children:[(0,N.jsxs)("p",{className:"sm:text-2xl text-xl font-bold",children:[1==Se?"Previous":"Current"," Draw"]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsxs)("p",{className:"sm:text-2xl text-xl font-bold",children:["#",$]}),(0,N.jsxs)("p",{className:"text-blue-violet sm:text-sm text-xs font-medium ml-2.5",children:[1==Se?"Ended":"Ends",": ",new Date(1e3*ye).toUTCString()]})]})]}),(0,N.jsx)("div",{className:"p-6 rounded-b-[10px]",children:(0,N.jsxs)("div",{className:"flex flex-col gap-y-6",children:[ee&&(0,N.jsx)(_.default,{href:(0,m.t5)(r,re,X),children:(0,N.jsxs)("p",{className:"flex justify-center justify-between sm:text-2xl text-xl font-bold cursor-pointer",children:["".concat(ie," #").concat(X),(0,N.jsx)(I.tEF,{className:"sm:w-6 sm:h-6 w-5 h-5 my-auto hover:rotate-180 duration-300 ml-auto"})]})}),(0,N.jsxs)("div",{className:"flex sm:flex-row flex-col sm:justify-between sm:items-center",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{className:"text-blue-violet sm:text-lg text-base font-medium",children:["You have",(0,N.jsxs)("span",{className:"text-light dark:text-port-gore font-bold",children:[" ",Ee.length," "]}),"tickets this round"]}),0!=Ee.length&&(0,N.jsx)("button",{className:"sm:text-sm text-xs font-medium text-white dark:text-black-russian",onClick:function(){Ae(!_e)},children:_e?"Hide tickets":"Show tickets >"}),_e?(0,N.jsx)("p",{className:"text-blue-violet sm:text-lg text-base font-medium flex flex-wrap mr-5",children:Ee.map((function(e,t){return(0,N.jsx)("span",{className:"px-2",children:("00000000"+Number(e)).slice(-Je)},t)}))}):""]}),(0,N.jsx)("div",{className:"sm:mt-0 mt-6",children:s?0==Se&&Ze?ze?(0,N.jsx)(l.zx,{size:"sm",className:"sm:w-max sm:text-base text-sm px-6",onClick:function(){return e()},children:"Buy Tickets"}):(0,N.jsx)(l.zx,{size:"sm",className:"sm:w-max sm:text-base text-sm px-6",onClick:cs,children:"Approve To Buy Tickets"}):"":(0,N.jsx)(l.ck,{size:"sm",className:"sm:w-max sm:text-base text-sm px-6 text-black-russian dark:text-alabaster",variant:"gradient"})})]})]})})]}),(0,N.jsxs)("div",{className:"col-span-4 bg-port-gore dark:bg-light rounded-xl p-6 border border-blue-violet mt-6",children:[(0,N.jsx)("p",{className:"text-blue-violet sm:text-base text-sm font-medium",children:"Matching ticket numbers will win the following prizes:"}),(0,N.jsx)("div",{className:"flex flex-wrap mt-6 text-sm font-medium gap-x-3 md:gap-x-6 gap-y-6 justify-center",children:ue.map((function(e,t){return(0,N.jsxs)("div",{className:"min-w-[100px] xl:flex-1 bg-black-russian dark:bg-white rounded-[10px] p-3.5 sm:text-sm text-xs border border-blue-violet",children:[(0,N.jsx)("p",{className:(0,m.AK)(e.title_color),children:e.title}),(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-2xl text-xl font-bold mt-2.5",children:"".concat(e.value2," ").concat(fe)}),(0,N.jsxs)("p",{className:"text-white dark:text-port-gore mt-1.5",children:["".concat(e.value1.toLocaleString()),"%",0==t&&ee&&" + NFT"]})]},t)}))})]})]}),s&&(0,N.jsx)("div",{className:"w-screen flex flex-col items-center bg-port-gore dark:bg-light border-t border-blue-violet border-b my-6",children:(0,N.jsx)(l.W2,{className:"flex justify-center px-6 py-6 md:py-24",maxWidth:"7xl",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-y-6",children:(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-3xl text-2xl font-semibold text-center",children:"Finished Rounds"})}),(0,N.jsxs)("div",{className:"border border-blue-violet rounded-[10px] bg-black-russian dark:bg-white mt-6 overflow-hidden",children:[(0,N.jsxs)("div",{className:"flex md:flex-row flex-col justify-between p-6 md:items-center",children:[(0,N.jsxs)("div",{className:"flex md:flex-row flex-col md:items-center",children:[(0,N.jsx)("p",{className:"text-blue-violet sm:text-2xl text-xl font-normal",children:"Round"}),(0,N.jsxs)("div",{className:"flex items-center md:ml-9 ml-0 md:mt-0 mt-3.5",children:[(0,N.jsxs)("p",{className:"text-light dark:text-port-gore sm:text-2xl text-xl font-bold",children:["#",$e]}),(0,N.jsxs)("p",{className:"text-blue-violet sm:text-sm text-xs font-medium ml-3.5",children:["Ended ",new Date(1e3*Xe).toUTCString()]})]})]}),(0,N.jsxs)("div",{className:"md:mt-0 mt-6 flex items-center text-blue-violet",children:[(0,N.jsx)("button",{onClick:function(){$e>1&&(Jt(!0),qe($e-1))},children:(0,N.jsx)(I.wyc,{className:"sm:h-[30px] h-[25px]"})}),(0,N.jsx)("button",{onClick:function(){$e<et&&(Jt(!0),qe($e+1))},children:(0,N.jsx)(I.XCv,{className:"sm:h-[30px] h-[25px]"})}),(0,N.jsx)("button",{onClick:function(){$e!=et&&(Jt(!0),qe(et))},children:(0,N.jsx)(I.a3z,{className:"sm:h-[27.5px] h-[22.5px]"})})]})]}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-16 md:p-9 p-6 bg-port-gore dark:bg-light border-b border-t border-blue-violet",children:[(0,N.jsx)("div",{className:"flex justify-center items-center rounded-[10px]",children:(0,N.jsx)("img",{src:"/images/nftlottery/".concat(Xt,"_pot.png"),alt:""})}),Ut?(0,N.jsx)(l.aN,{size:"54px",stroke:"white",className:"my-auto m-auto"}):(0,N.jsxs)("div",{className:"flex flex-col md:mt-0 mt-6 items-start",children:[$e==$&&(0,N.jsx)("p",{className:"text-black-russian sm:text-sm text-xs font-medium bg-lima sm:p-2.5 p-2 rounded-[10px] w-max",children:"Latest"}),(0,N.jsx)("p",{className:"text-blue-violet sm:text-2xl text-xl font-medium mt-6",children:"Winning Numbers"}),(0,N.jsx)("p",{className:"text-blue-violet sm:text-lg text-base font-medium flex flex-wrap mr-5",children:0==yt.length?(0,N.jsx)("span",{className:"px-2 text-alabaster dark:text-port-gore sm:text-3xl text-2xl font-semibold",children:"Not Drawn Yet"}):yt.map((function(e,t){return(0,N.jsx)("span",{className:"px-2 text-alabaster dark:text-port-gore sm:text-5xl text-4xl font-semibold",children:("00000000"+Number(e)).slice(-zt)},t)}))}),0!=yt.length&&(rt?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-blue-violet sm:text-2xl text-xl font-medium mt-6",children:"Winning Prize"}),(0,N.jsxs)("div",{className:"flex items-center sm:flex-row flex-col gap-x-6 mt-6",children:[(0,N.jsx)("p",{className:"text-alabaster dark:text-port-gore sm:text-6xl text-5xl font-semibold\tsm:mt-0 mt-6",children:rt}),(0,N.jsxs)("div",{className:"flex items-center gap-x-2.5 bg-black-russian dark:bg-white rounded-xl p-2.5 w-max md:mt-0 mt-6",children:[(0,N.jsx)("p",{className:"sm:w-2.5 sm:h-2.5 w-2 h-2 rounded-full bg-amaranth"}),(0,N.jsx)("p",{className:"text-amaranth sm:text-2xl text-xl font-bold",children:(0,N.jsx)("span",{className:"uppercase",children:Zt})})]})]}),ut&&(0,N.jsx)("div",{className:"flex items-center sm:flex-row flex-col gap-x-6 mt-6",children:(0,N.jsx)(_.default,{href:(0,m.t5)(r,ct,ft),children:(0,N.jsxs)("p",{className:"flex justify-center justify-between text-alabaster dark:text-port-gore sm:text-5xl text-4xl font-semibold cursor-pointer",children:["".concat(gt," #").concat(ft),(0,N.jsx)(I.tEF,{className:"sm:w-6 sm:h-6 w-5 h-5 my-auto hover:rotate-180 duration-300 ml-2.5 ml-auto"})]})})}),s?Et?(0,N.jsx)(l.zx,{size:"sm",className:"self-end uppercase w-full md:w-max sm:text-base text-sm mt-6 px-6",children:"Claimed"}):(0,N.jsx)(l.zx,{size:"sm",className:"self-end uppercase w-full md:w-max sm:text-base text-sm mt-6 px-6",onClick:function(){xs()},children:"Claim Prize"}):(0,N.jsx)(l.ck,{size:"sm",className:"self-end uppercase w-full md:w-max sm:text-base text-sm mt-6 px-6 text-black-russian dark:text-alabaster",variant:"gradient"})]}):(0,N.jsx)("p",{className:"text-blue-violet sm:text-2xl text-xl font-medium mt-6",children:"Unfortunately you didn't win"})),0!=yt.length&&(0,N.jsx)("button",{className:"sm:text-lg text-md font-medium text-white dark:text-black-russian",onClick:function(){Nt(!kt)},children:kt?"Hide Winners":"Show Winners >"}),kt&&St.map((function(e,t){return(0,N.jsxs)("p",{children:["Place ",t+1,": ","0x0000000000000000000000000000000000000000"!=e?(0,R.Xn)(e):"Not won"]},t)}))]})]}),(0,N.jsx)(l.UQ,{title:"Details",children:(0,N.jsx)("div",{className:"p-6 bg-port-gore dark:bg-light border-t border-blue-violet",children:it?(0,N.jsxs)("div",{className:"flex justify-center justify-between",children:[(0,N.jsxs)("p",{className:"text-alabaster dark:text-port-gore font-medium",children:[Lt," ",Zt," pot and",(0,N.jsx)(_.default,{href:(0,m.t5)(r,ct,ft),children:(0,N.jsxs)("a",{className:"cursor-pointer",children:[" ",gt," #",ft," "]})}),"NFT pot"]}),(0,N.jsx)(_.default,{href:(0,m.t5)(r,ct,ft),children:(0,N.jsx)(I.tEF,{className:"sm:w-6 sm:h-6 w-5 h-5 my-auto hover:rotate-180 duration-300 ml-auto cursor-pointer text-alabaster dark:text-port-gore"})})]}):(0,N.jsxs)("p",{className:"text-alabaster dark:text-port-gore font-medium",children:[Lt," ",Zt," pot "]})})})]})]})})}),(0,N.jsxs)("div",{className:"flex flex-col",children:[(0,N.jsx)("p",{className:"sm:text-3xl text-2xl font-semibold text-light dark:text-port-gore text-center",children:"How to Play"}),(0,N.jsx)("p",{className:"sm:text-sm text-xs font-medium text-blue-violet text-center my-9",children:"If one of your tickets matches one of the winning numbers in the raffle, you win a share of the prize pool!"}),(0,N.jsx)("div",{className:"flex flex-col md:flex-row gap-x-6 gap-y-6",children:[{title:"Buy Tickets",icon:"/images/nftlottery/ticket1.png",desc:"Tickets are sold for tokens at a fixed price until the raffle ends.",step:"Step 1"},{title:"Wait...",icon:"/images/nftlottery/timer1.png",desc:"...until the draw is over.",step:"Step 2"},{title:"Check for Prizes",icon:"/images/nftlottery/trophy1.png",desc:"Come back and see if one or more of your tickets has won!",step:"Step 3"}].map((function(e,t){return(0,N.jsxs)("div",{className:"flex flex-col md:flex-1 bg-port-gore dark:bg-light rounded-[10px] p-6 gap-y-6 border border-blue-violet",children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsx)("img",{src:e.icon,className:"w-20 h-20"}),(0,N.jsx)("p",{className:"bg-lima text-black-russian sm:text-sm text-xs font-medium sm:p-2.5 p-2 rounded-[10px]",children:e.step})]}),(0,N.jsx)("p",{className:"text-light dark:text-port-gore sm:text-3xl text-2xl font-semibold capitalize",children:e.title}),(0,N.jsx)("p",{className:"text-blue-violet sm:text-base text-sm font-medium",children:e.desc})]},t)}))})]}),(0,N.jsxs)("div",{className:"flex flex-col md:flex-row justify-center items-center gap-x-16 gap-y-7 bg-port-gore dark:bg-light border border-blue-violet rounded py-6 md:py-0 w-full",children:[(0,N.jsx)("div",{className:"w-2/5 my-0 md:-mt-12 md:-mb-12",children:(0,N.jsx)("img",{src:"/images/nftlottery/questionmark1.png",alt:""})}),(0,N.jsxs)("div",{className:"flex flex-col justify-center items-center md:p-0 p-6",children:[(0,N.jsx)("p",{className:"sm:text-2xl text-xl font-semibold text-light dark:text-port-gore",children:"Still have questions?"}),(0,N.jsxs)("p",{className:"sm:text-base text-sm font-medium text-blue-violet mt-6 text-center",children:["Find out more about how to enter raffles for Ruby gemstones.",(0,N.jsx)("br",{}),(0,N.jsx)("a",{className:"text-light dark:text-port-gore underline decoration-solid",href:"https://docs.ruby.exchange/ruby.exchange/products/ruby-raffles",children:"See our guide here!"})]})]})]})]}),(0,N.jsx)(T,{}),(0,N.jsx)(P,{}),(0,N.jsx)(E,{}),(0,N.jsx)(B,{}),(0,N.jsx)(b.ZP,{isOpen:ts,onDismiss:ls,attemptingTxn:rs,content:os,pendingText:as})]})}H.Guard=(0,l.hJ)([m.a_.EUROPA]);var U=H},55641:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nftlottery",function(){return s(23028)}])},99548:function(e,t,s){"use strict";var r=s(67294),n=s(45697),a=s.n(n);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var o=(0,r.forwardRef)((function(e,t){var s=e.color,n=void 0===s?"currentColor":s,a=e.size,o=void 0===a?24:a,c=l(e,["color","size"]);return r.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.createElement("polyline",{points:"16 12 12 8 8 12"}),r.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))}));o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},o.displayName="ArrowUpCircle",t.Z=o}},function(e){e.O(0,[9774,2888,179],(function(){return t=55641,e(e.s=t);var t}));var t=e.O();_N_E=t}]);