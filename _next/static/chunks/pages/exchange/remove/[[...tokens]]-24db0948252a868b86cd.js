(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6756],{47248:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(30879),r=n(1427);function s(){var e,t,n=(0,r.gq)();return null===(e=(0,i.Wk)(n,"getCurrentBlockTimestamp"))||void 0===e||null===(t=e.result)||void 0===t?void 0:t[0]}},84682:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(30879),r=n(28269),s=n(1427),o=n(67294);function a(){var e,t,n=(0,r.a)().account,a=(0,s.c5)(),l=(0,o.useMemo)((function(){return[null!==n&&void 0!==n?n:void 0]}),[n]),c=(0,i.Wk)(a,"isArgentWallet",l,i.DB);return null!==(e=null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t[0])&&void 0!==e&&e}},97096:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(47248),r=n(67294),s=n(93942);function o(){var e=(0,s.v9)((function(e){return e.user.userDeadline})),t=(0,i.Z)();return(0,r.useMemo)((function(){if(t&&e)return t.add(e)}),[t,e])}},69896:function(e,t,n){"use strict";n.d(t,{pM:function(){return m},ht:function(){return x}});var i=n(80318),r=n(99548),s=n(84501),o=(n(67294),n(74891)),a=n(33646),l=n(28269),c=n(13369),d=n(20181),u=n(85893),v=function(e){var t=e.onDismiss,n=e.pendingText,r=(0,d.m$)(),s=(0,i.Z)(r,1)[0];return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)(o.Tw,{onClick:t})}),(0,u.jsx)("div",{className:"w-24 pb-4 m-auto flex justify-center",children:(0,u.jsxs)("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-30",cx:"12",cy:"12",r:"10",stroke:"#6E67B6",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:s?"#231E58":"#F3F2FF",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,u.jsx)("div",{className:"sm:text-xl text-lg font-semibold text-alabaster dark:text-port-gore",children:"Waiting for Confirmation"}),(0,u.jsx)("div",{className:"sm:text-base text-xs text-alabaster dark:text-port-gore",children:n}),(0,u.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore",children:"Confirm this transaction in your wallet."}),(0,u.jsx)("div",{className:"sm:text-sm text-xs font-bold text-alabaster dark:text-port-gore -mt-3",children:"You can close this dialog after confirming."})]})]})},p=function(e){var t,n=e.onDismiss,i=e.chainId,s=e.hash,d=e.currencyToAdd,v=(0,l.a)().library,p=(0,c.Z)(d),m=p.addToken,x=p.success;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"flex justify-end hover:text-alabaster dark:hover:text-port-gore",children:(0,u.jsx)(o.Tw,{onClick:n})}),(0,u.jsx)("div",{className:"w-24 pb-4 m-auto",children:(0,u.jsx)(r.Z,{strokeWidth:.5,size:90,className:"text-blue"})}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,u.jsx)("div",{className:"sm:text-xl text-lg font-bold text-alabaster dark:text-port-gore",children:"Transaction Submitted"}),i&&s&&(0,u.jsx)(o.dL,{href:(0,a.E)(i,s,"transaction"),children:(0,u.jsx)("div",{className:"font-bold text-blue sm:text-base text-sm",children:"View on explorer"})}),d&&(null===v||void 0===v||null===(t=v.provider)||void 0===t?void 0:t.isMetaMask)&&(0,u.jsx)(o.zx,{variant:"gradient",onClick:m,className:"w-auto mt-4 font-semibold",children:x?(0,u.jsxs)(o.bs,{children:["Added ",d.symbol]}):(0,u.jsxs)(o.bs,{className:"mx-auto space-x-2",children:[(0,u.jsx)("span",{children:"Add ".concat(d.symbol," to MetaMask")}),(0,u.jsx)("img",{src:"/images/wallets/metamask.png",alt:"Add ".concat(d.symbol," to MetaMask"),width:20,height:20,className:"ml-1"})]})})]})]})},m=function(e){var t=e.title,n=e.bottomContent,i=e.onDismiss,r=e.topContent;return(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsx)(o.xB,{title:t,onClose:i}),r(),n()]})},x=function(e){var t=e.message,n=e.onDismiss;return(0,u.jsxs)("div",{className:"grid gap-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("div",{className:"text-lg font-medium text-alabaster",children:"Error"}),(0,u.jsx)(o.Tw,{onClick:n})]}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,u.jsx)(s.Z,{className:"text-red",style:{strokeWidth:1.5},size:64}),(0,u.jsx)("div",{className:"font-bold text-red",children:t})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(o.zx,{color:"gradient",size:"lg",onClick:n,children:"Dismiss"})})]})};t.ZP=function(e){var t=e.isOpen,n=e.onDismiss,i=e.attemptingTxn,r=e.hash,s=e.pendingText,a=e.content,c=e.currencyToAdd,d=(0,l.a)().chainId;return d?(0,u.jsx)(o.u_,{isOpen:t,onDismiss:n,maxHeight:90,maxWidth:500,children:i?(0,u.jsx)(v,{onDismiss:n,pendingText:s}):r?(0,u.jsx)(p,{chainId:d,hash:r,onDismiss:n,currencyToAdd:c}):t?a():null}):null}},58868:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return le}});var i=n(83789),r=n(30266),s=n(92809),o=n(80318),a=n(809),l=n.n(a),c=n(74891),d=n(99952),u=n(67294),v=n(45697),p=n.n(v);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=(0,u.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,r=e.size,s=void 0===r?24:r,o=x(e,["color","size"]);return u.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),u.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),u.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));f.propTypes={color:p().string,size:p().oneOfType([p().string,p().number])},f.displayName="Plus";var g=f,h=n(26367),y=n(73574),b=n(96540),j=n(69896),N=n(29708),w=n(29161),C=n(29268),T=n(82989),k=n(28269),R=n(72319),E=n(51274),O=n(22622);function I(){return(0,C.C)((function(e){return e.burn}))}var A=n(1427),D=n(2593),U=n(9008),P=n(41664),_=n(66269);var L,Y,S,q,Z=n(11163),B=n(99123),M=n(97096),Q=n(20181),z=n(56371),W=n(84682),G=n(30879);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.AMOUNT=1]="AMOUNT",e[e.ALLOWED=2]="ALLOWED"}(q||(q={}));var F,K=(S={},(0,s.Z)(S,0x7cef6e298b91c,(L={},(0,s.Z)(L,b.gn[0x7cef6e298b91c].address,{type:q.AMOUNT,name:"USDC",version:"2"}),(0,s.Z)(L,b.dg[0x7cef6e298b91c].address,{type:q.AMOUNT,name:"Ruby"}),L)),(0,s.Z)(S,31337,(Y={},(0,s.Z)(Y,b.gn[31337].address,{type:q.AMOUNT,name:"USDC",version:"2"}),(0,s.Z)(Y,b.dg[31337].address,{type:q.AMOUNT,name:"Ruby"}),Y)),S);!function(e){e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.LOADING=1]="LOADING",e[e.NOT_SIGNED=2]="NOT_SIGNED",e[e.SIGNED=3]="SIGNED"}(F||(F={}));var H=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],J=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],$=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],ee=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}];function te(e,t,n){var i,s,o=(0,k.a)(),a=o.account,c=o.chainId,d=o.library,v=(0,M.Z)(),p=null!==e&&void 0!==e&&null!==(i=e.currency)&&void 0!==i&&i.isToken?e.currency.address:void 0,m=(0,A.N9)(p),x=(0,W.Z)(),f=(0,u.useMemo)((function(){return[null!==a&&void 0!==a?a:void 0]}),[a]),g=(0,G.Wk)(m,"nonces",f),y=null!==n&&void 0!==n?n:c&&p?null===(s=K[c])||void 0===s?void 0:s[p]:void 0,b=(0,u.useState)(null),j=b[0],N=b[1];return(0,u.useMemo)((function(){var n,i;if(x||!e||!m||!a||!c||!v||!d||!g.valid||!p||!t||!y)return{state:F.NOT_APPLICABLE,signatureData:null,gatherPermitSignature:null};var s=null===(n=g.result)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.toNumber();if(g.loading||"number"!==typeof s)return{state:F.LOADING,signatureData:null,gatherPermitSignature:null};var o=j&&j.owner===a&&j.deadline>=v.toNumber()&&j.tokenAddress===p&&j.nonce===s&&j.spender===t&&("allowed"in j||h.QA.equal(h.QA.BigInt(j.amount),e.quotient));return{state:o?F.SIGNED:F.NOT_SIGNED,signatureData:o?j:null,gatherPermitSignature:function(){var n=(0,r.Z)(l().mark((function n(){var i,r,o,u,m,x;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=y.type===q.ALLOWED,r=v.toNumber()+1200,o=e.quotient.toString(),u=i?{holder:a,spender:t,allowed:i,nonce:s,expiry:r}:{owner:a,spender:t,value:o,nonce:s,deadline:r},m=y.version?{name:y.name,version:y.version,verifyingContract:p,chainId:c}:{name:y.name,verifyingContract:p,chainId:c},x=JSON.stringify({types:{EIP712Domain:y.version?H:J,Permit:i?ee:$},domain:m,primaryType:"Permit",message:u}),n.abrupt("return",d.send("eth_signTypedData_v4",[a,x]).then(z.splitSignature).then((function(e){N(X(X({v:e.v,r:e.r,s:e.s,deadline:r},i?{allowed:i}:{amount:o}),{},{nonce:s,chainId:c,owner:a,spender:t,tokenAddress:p,permitType:y.type}))})));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}),[e,m,a,c,x,v,d,g.loading,g.valid,g.result,p,t,y,j])}var ne={version:"1",name:"Ruby LP Token",type:q.AMOUNT};var ie=n(85893);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=new h.gG(5,100);function ae(){var e,t,n,a,v,p,m,x,f,L,Y,S,q,z,W=(0,Z.useRouter)(),G=W.query.tokens||[void 0,void 0],V=(0,o.Z)(G,2),X=V[0],F=V[1],K=null!==(e=(0,_.U8)(X))&&void 0!==e?e:void 0,H=null!==(t=(0,_.U8)(F))&&void 0!==t?t:void 0,J=(0,k.a)(),$=J.account,ee=J.chainId,re=J.library,ae=(0,u.useMemo)((function(){return[null===K||void 0===K?void 0:K.wrapped,null===H||void 0===H?void 0:H.wrapped]}),[K,H]),le=ae[0],ce=ae[1],de=I(),ue=de.independentField,ve=de.typedValue,pe=function(e,t){var n,i,r,a,l,c=(0,k.a)().account,d=I(),u=d.independentField,v=d.typedValue,p=(0,O.Oo)(e,t),m=(0,o.Z)(p,2)[1],x=(0,R.Z)(null!==c&&void 0!==c?c:void 0,[null===m||void 0===m?void 0:m.liquidityToken]),f=null===x||void 0===x?void 0:x[null!==(n=null===m||void 0===m||null===(i=m.liquidityToken)||void 0===i?void 0:i.address)&&void 0!==n?n:""],g=null===e||void 0===e?void 0:e.wrapped,y=null===t||void 0===t?void 0:t.wrapped,b=(r={},(0,s.Z)(r,w.g.CURRENCY_A,g),(0,s.Z)(r,w.g.CURRENCY_B,y),(0,s.Z)(r,w.g.LIQUIDITY,null===m||void 0===m?void 0:m.liquidityToken),r),j=(0,E.A)(null===m||void 0===m?void 0:m.liquidityToken),N=m&&j&&f&&g&&h.QA.greaterThanOrEqual(j.quotient,f.quotient)?h.ih.fromRawAmount(g,m.getLiquidityValue(g,j,f,!1).quotient):void 0,C=m&&j&&f&&y&&h.QA.greaterThanOrEqual(j.quotient,f.quotient)?h.ih.fromRawAmount(y,m.getLiquidityValue(y,j,f,!1).quotient):void 0,A=(a={},(0,s.Z)(a,w.g.CURRENCY_A,N),(0,s.Z)(a,w.g.CURRENCY_B,C),a),D=new h.gG("0","100");if(u===w.g.LIQUIDITY_PERCENT)D=new h.gG(v,"100");else if(u===w.g.LIQUIDITY){if(null!==m&&void 0!==m&&m.liquidityToken){var U=(0,T.e)(v,m.liquidityToken);U&&f&&!U.greaterThan(f)&&(D=new h.gG(U.quotient,f.quotient))}}else if(b[u]){var P=(0,T.e)(v,b[u]),_=A[u];P&&_&&!P.greaterThan(_)&&(D=new h.gG(P.quotient,_.quotient))}var L,Y,S=(l={},(0,s.Z)(l,w.g.LIQUIDITY_PERCENT,D),(0,s.Z)(l,w.g.LIQUIDITY,f&&D&&D.greaterThan("0")?h.ih.fromRawAmount(f.currency,D.multiply(f.quotient).quotient):void 0),(0,s.Z)(l,w.g.CURRENCY_A,g&&D&&D.greaterThan("0")&&N?h.ih.fromRawAmount(g,D.multiply(N.quotient).quotient):void 0),(0,s.Z)(l,w.g.CURRENCY_B,y&&D&&D.greaterThan("0")&&C?h.ih.fromRawAmount(y,D.multiply(C.quotient).quotient):void 0),l);return c||(L="Connect Wallet"),S[w.g.LIQUIDITY]&&S[w.g.CURRENCY_A]&&S[w.g.CURRENCY_B]||(L=null!==(Y=L)&&void 0!==Y?Y:"Enter an amount"),{pair:m,parsedAmounts:S,error:L}}(null!==K&&void 0!==K?K:void 0,null!==H&&void 0!==H?H:void 0),me=pe.pair,xe=pe.parsedAmounts,fe=pe.error,ge=function(){var e=(0,C.T)();return{onUserInput:(0,u.useCallback)((function(t,n){e((0,w.L)({field:t,typedValue:n}))}),[e])}}().onUserInput,he=!fe,ye=(0,u.useState)(!1),be=ye[0],je=ye[1],Ne=(0,u.useState)(!1),we=Ne[0],Ce=Ne[1],Te=(0,u.useState)(null),ke=Te[0],Re=Te[1],Ee=(0,u.useState)(""),Oe=Ee[0],Ie=Ee[1],Ae=(0,M.Z)(),De=(0,Q.eq)(oe),Ue=(f={},(0,s.Z)(f,w.g.LIQUIDITY_PERCENT,xe[w.g.LIQUIDITY_PERCENT].equalTo("0")?"0":xe[w.g.LIQUIDITY_PERCENT].lessThan(new h.gG("1","100"))?"<1":xe[w.g.LIQUIDITY_PERCENT].toFixed(0)),(0,s.Z)(f,w.g.LIQUIDITY,ue===w.g.LIQUIDITY?ve:null!==(n=null===(a=xe[w.g.LIQUIDITY])||void 0===a?void 0:a.toSignificant(6))&&void 0!==n?n:""),(0,s.Z)(f,w.g.CURRENCY_A,ue===w.g.CURRENCY_A?ve:null!==(v=null===(p=xe[w.g.CURRENCY_A])||void 0===p?void 0:p.toSignificant(6))&&void 0!==v?v:""),(0,s.Z)(f,w.g.CURRENCY_B,ue===w.g.CURRENCY_B?ve:null!==(m=null===(x=xe[w.g.CURRENCY_B])||void 0===x?void 0:x.toSignificant(6))&&void 0!==m?m:""),f),Pe=(0,A.t0)(null===me||void 0===me||null===(L=me.liquidityToken)||void 0===L?void 0:L.address),_e=(0,A.Ti)(),Le=(q=xe[w.g.LIQUIDITY],z=null===_e||void 0===_e?void 0:_e.address,te(q,z,ne)),Ye=Le.gatherPermitSignature,Se=Le.signatureData,qe=(0,d.qL)(xe[w.g.LIQUIDITY],null===_e||void 0===_e?void 0:_e.address),Ze=(0,o.Z)(qe,2),Be=Ze[0],Me=Ze[1];function Qe(){return(Qe=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe&&me&&re&&Ae||Re("missing dependencies"),xe[w.g.LIQUIDITY]||Re("missing liquidity amount"),!Ye){e.next=14;break}return e.prev=4,e.next=7,Ye();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),4001!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&He();case 12:e.next=15;break;case 14:He();case 15:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}var ze=(0,u.useState)({showApproveConfirm:!1,attemptingApproveTxn:!1,errorApproveMessage:void 0,pendingApproveText:void 0}),We=ze[0],Ge=We.showApproveConfirm,Ve=We.errorApproveMessage,Xe=We.attemptingApproveTxn,Fe=We.pendingApproveText,Ke=ze[1],He=(0,u.useCallback)((function(){Ke((function(e){return se(se({},e),{},{showApproveConfirm:!0,attemptingApproveTxn:!0,errorApproveMessage:void 0,pendingApproveText:(0,ie.jsxs)(ie.Fragment,{children:["Approving UNI-V2",(0,ie.jsx)(c.bb,{})]})})})),Me().then((function(){Ke((function(e){return se(se({},e),{},{attemptingApproveTxn:!1,showApproveConfirm:!1,errorApproveMessage:void 0})}))})).catch((function(e){Ke((function(e){return se(se({},e),{},{attemptingApproveTxn:!1})})),4001===(null===e||void 0===e?void 0:e.code)?Ke((function(e){return se(se({},e),{},{errorApproveMessage:"Transaction rejected."})})):Ke((function(e){return se(se({},e),{},{errorApproveMessage:"Approve failed: Please try again"})}))}))}),[Me]),Je=(0,u.useCallback)((function(){Ke((function(e){return se(se({},e),{},{showApproveConfirm:!1})}))}),[]),$e=(0,u.useCallback)((function(){return Ve?(0,ie.jsx)(j.ht,{onDismiss:Je,message:Ve}):(0,ie.jsx)(j.pM,{title:"Confirm",onDismiss:Je,topContent:function(){return""},bottomContent:function(){return""}})}),[Je,Ve]),et=(0,u.useCallback)((function(e,t){return ge(e,t)}),[ge]),tt=(0,B.h7)();function nt(){return it.apply(this,arguments)}function it(){return(it=(0,r.Z)(l().mark((function e(){var t,n,o,a,c,u,v,p,m,x,f,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee&&re&&$&&Ae&&W||Re("missing dependencies"),n=xe[w.g.CURRENCY_A],o=xe[w.g.CURRENCY_B],n&&o||Re("missing currency amounts"),t={},(0,s.Z)(t,w.g.CURRENCY_A,(0,N.uc)(n,De)[0]),(0,s.Z)(t,w.g.CURRENCY_B,(0,N.uc)(o,De)[0]),a=t,K&&H||Re("missing tokens"),(c=xe[w.g.LIQUIDITY])||Re("missing liquidity amount"),u=H.isNative,K.isNative||u,le&&ce||Re("could not wrap"),Be===d.UK.APPROVED?(v=["removeLiquidity"],p=[le.address,ce.address,c.quotient.toString(),a[w.g.CURRENCY_A].toString(),a[w.g.CURRENCY_B].toString(),$,Ae.toHexString()]):null!==Se?(v=["removeLiquidityWithPermit"],p=[le.address,ce.address,c.quotient.toString(),a[w.g.CURRENCY_A].toString(),a[w.g.CURRENCY_B].toString(),$,Se.deadline,!1,Se.v,Se.r,Se.s]):Re("Attempting to confirm without approval or a signature. Please contact support."),e.next=13,Promise.all(v.map((function(e){var t;return(t=_e.estimateGas)[e].apply(t,(0,i.Z)(p)).then(N.yC).catch((function(t){console.error("estimateGas failed",e,p,t)}))})));case 13:if(m=e.sent,-1!==(x=m.findIndex((function(e){return D.O$.isBigNumber(e)})))){e.next=20;break}console.error("This transaction would fail. Please contact support."),Re("This transaction would fail. Please contact support."),e.next=25;break;case 20:return f=v[x],g=m[x],Ce(!0),e.next=25,_e[f].apply(_e,(0,i.Z)(p).concat([{gasLimit:g}])).then(function(){var e=(0,r.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt(t,{summary:"Remove ".concat(null===(n=xe[w.g.CURRENCY_A])||void 0===n?void 0:n.toSignificant(3)," ").concat(null===K||void 0===K?void 0:K.symbol," and ").concat(null===(i=xe[w.g.CURRENCY_B])||void 0===i?void 0:i.toSignificant(3)," ").concat(null===H||void 0===H?void 0:H.symbol)}),e.next=3,t.wait();case 3:Ce(!1),je(!1),Ie(t.hash);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ce(!1),4001===(null===e||void 0===e?void 0:e.code)?Re("Transaction rejected."):Re("Remove Liquidity failed: ".concat(e))}));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){var e,t;return(0,ie.jsxs)("div",{className:"grid gap-4 pt-3 pb-4",children:[(0,ie.jsxs)("div",{className:"grid gap-2",children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ie.jsx)(c.Xw,{currency:K,size:48}),(0,ie.jsx)("div",{className:"sm:text-2xl text-xl font-bold text-alabaster dark:text-port-gore",children:null===(e=xe[w.g.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6)})]}),(0,ie.jsx)("div",{className:"ml-3 sm:text-2xl text-xl font-medium text-alabaster dark:text-port-gore",children:null===K||void 0===K?void 0:K.symbol})]}),(0,ie.jsx)("div",{className:"ml-3 mr-3 sm:w-[24px]",children:(0,ie.jsx)(g,{className:"text-alabaster dark:text-port-gore"})}),(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ie.jsx)(c.Xw,{currency:H,size:48}),(0,ie.jsx)("div",{className:"sm:text-2xl text-xl font-bold text-alabaster dark:text-port-gore",children:null===(t=xe[w.g.CURRENCY_B])||void 0===t?void 0:t.toSignificant(6)})]}),(0,ie.jsx)("div",{className:"ml-3 sm:text-2xl text-xl font-medium text-alabaster dark:text-port-gore",children:null===H||void 0===H?void 0:H.symbol})]})]}),(0,ie.jsx)("div",{className:"justify-start sm:text-sm text-xs text-alabaster dark:text-port-gore",children:"Output is estimated. If the price changes by more than ".concat(De.toSignificant(4),"% your transaction will revert.")})]})}function st(){var e;return(0,ie.jsxs)("div",{children:[me&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)("div",{className:"grid gap-1",children:[(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsx)("div",{className:"sm:text-sm text-xs text-alabaster dark:text-port-gore",children:"Rates"}),(0,ie.jsx)("div",{className:"sm:text-sm text-xs font-bold justify-center items-center flex right-align pl-1.5 text-alabaster dark:text-port-gore",children:"1 ".concat(null===K||void 0===K?void 0:K.symbol," = ").concat(le?me.priceOf(le).toSignificant(6):"-"," ").concat(null===H||void 0===H?void 0:H.symbol)})]}),(0,ie.jsx)("div",{className:"flex items-center justify-end",children:(0,ie.jsx)("div",{className:"sm:text-sm text-xs font-bold justify-center items-center flex right-align pl-1.5 text-alabaster dark:text-port-gore",children:"1 ".concat(null===H||void 0===H?void 0:H.symbol," = ").concat(ce?me.priceOf(ce).toSignificant(6):"-"," ").concat(null===K||void 0===K?void 0:K.symbol)})})]}),(0,ie.jsx)("div",{className:"h-px sm:my-6 my-5 bg-gray-700"})]}),(0,ie.jsx)("div",{className:"grid gap-1 pb-6",children:(0,ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ie.jsx)("div",{className:"sm:text-sm text-xs text-alabaster dark:text-port-gore",children:"".concat(null===K||void 0===K?void 0:K.symbol,"-").concat(null===H||void 0===H?void 0:H.symbol," LP token burned")}),(0,ie.jsx)("div",{className:"sm:text-sm text-xs font-bold justify-center items-center flex right-align pl-1.5 text-alabaster dark:text-port-gore",children:null===(e=xe[w.g.LIQUIDITY])||void 0===e?void 0:e.toSignificant(6)})]})}),(0,ie.jsx)(c.zx,{color:"gradient",disabled:!(Be===d.UK.APPROVED||null!==Se),onClick:nt,className:"sm:text-base text-sm",children:"Confirm"})]})}var ot="Removing ".concat(null===(Y=xe[w.g.CURRENCY_A])||void 0===Y?void 0:Y.toSignificant(6)," ").concat(null===K||void 0===K?void 0:K.symbol," and ").concat(null===(S=xe[w.g.CURRENCY_B])||void 0===S?void 0:S.toSignificant(6)," ").concat(null===H||void 0===H?void 0:H.symbol),at=(0,u.useCallback)((function(e){et(w.g.LIQUIDITY_PERCENT,e)}),[et]),lt=(null===K||void 0===K?void 0:K.isNative)||(null===H||void 0===H?void 0:H.isNative),ct=Boolean(ee&&b.DX[ee]&&((null===K||void 0===K?void 0:K.equals(b.DX[ee]))||(null===H||void 0===H?void 0:H.equals(b.DX[ee])))),dt=(0,u.useCallback)((function(){je(!1),Oe&&et(w.g.LIQUIDITY_PERCENT,"0"),Ie("")}),[et,Oe]),ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=(0,u.useState)((function(){return e})),r=i[0],s=i[1],o=(0,u.useRef)(),a=(0,u.useCallback)((function(e){s(e),o.current&&clearTimeout(o.current),o.current=setTimeout((function(){t(e),o.current=void 0}),n)}),[n,t]);return(0,u.useEffect)((function(){o.current&&(clearTimeout(o.current),o.current=void 0),s(e)}),[e]),[r,a]}(xe[w.g.LIQUIDITY_PERCENT].toFixed(0),at),vt=(0,o.Z)(ut,2),pt=vt[0],mt=vt[1],xt=(0,u.useCallback)((function(){return ke?(0,ie.jsx)(j.ht,{onDismiss:dt,message:ke}):(0,ie.jsx)(j.pM,{title:"You will receive",onDismiss:dt,topContent:rt,bottomContent:st})}),[st,rt,ke]);return(0,ie.jsxs)(c.W2,{id:"remove-liquidity-page",className:"py-4 space-y-4 md:py-8 lg:py-12 lg:p-0 px-5",maxWidth:"2xl",children:[(0,ie.jsxs)(U.default,{children:[(0,ie.jsx)("title",{children:"Remove Liquidity | Ruby.Exchange"}),(0,ie.jsx)("meta",{name:"description",content:"Remove liquidity from the SushiSwap AMM"},"description")]}),(0,ie.jsx)("div",{className:"px-4 mb-5",children:(0,ie.jsx)(c.OL,{href:"/pool",children:(0,ie.jsxs)("a",{className:"flex items-center space-x-2 text-base font-medium text-center cursor-pointer text-secondary hover:text-high-emphesis dark:hover:text-port-gore",children:[(0,ie.jsx)("span",{children:"View Liquidity Positions"}),(0,ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})}),(0,ie.jsxs)("div",{className:"py-4 space-y-4 rounded ",style:{zIndex:1},children:[(0,ie.jsx)(c.a3,{input:K,output:H,allowedSlippage:De,swapTitle:"Remove liquidity"}),(0,ie.jsxs)("div",{children:[(0,ie.jsx)(j.ZP,{isOpen:be,onDismiss:dt,attemptingTxn:we,content:xt,pendingText:ot}),(0,ie.jsx)(j.ZP,{isOpen:Ge,onDismiss:Je,attemptingTxn:Xe,content:$e,pendingText:Fe}),(0,ie.jsxs)(c.Tz,{gap:"md",children:[(0,ie.jsxs)("div",{children:[(0,ie.jsx)(c.A0,{value:"0"===pt?void 0:pt,onUserInput:mt,id:"liquidity-percent",onMaxClick:function(){mt("100")}}),(0,ie.jsx)(c.Tz,{justify:"space-between",className:"py-2.5"}),(0,ie.jsx)("div",{id:"remove-liquidity-output",className:"p-5 rounded  border border-blue-violet",children:(0,ie.jsxs)("div",{className:"flex flex-col justify-between space-y-3 sm:space-y-0 sm:flex-row",children:[(0,ie.jsx)("div",{className:"w-full text-alabaster dark:text-port-gore sm:w-2/5",style:{margin:"auto 0px"},children:(0,ie.jsxs)(c.Tz,{children:[(0,ie.jsx)("div",{className:"font-semibold",children:"You Will Receive:"}),ee&&(ct||lt)?(0,ie.jsx)(c.m0,{className:"text-sm",children:lt?(0,ie.jsx)(P.default,{href:"/remove/".concat(null!==K&&void 0!==K&&K.isNative?b.DX[ee].address:X,"/").concat(null!==H&&void 0!==H&&H.isNative?b.DX[ee].address:F),children:(0,ie.jsxs)("a",{className:"text-baseline text-blue opacity-80 hover:opacity-100 focus:opacity-100 whitespace-nowrap",children:["Receive W",y.B5[ee].symbol]})}):ct?(0,ie.jsx)(P.default,{href:"/remove/".concat(null!==K&&void 0!==K&&K.equals(b.DX[ee])?"ETH":X,"/").concat(null!==H&&void 0!==H&&H.equals(b.DX[ee])?"ETH":F),children:(0,ie.jsxs)("a",{className:"text-baseline text-blue opacity-80 hover:opacity-100 whitespace-nowrap",children:["Receive ",y.B5[ee].symbol]})}):null}):null]})}),(0,ie.jsxs)("div",{className:"flex flex-col space-y-3 md:flex-row md:space-x-6 md:space-y-0",children:[(0,ie.jsxs)("div",{className:"flex flex-row items-center w-full p-3 pr-8 space-x-3 rounded bg-blue-violet dark:bg-light",children:[(0,ie.jsx)(c.Xw,{currency:K,size:"46px"}),(0,ie.jsxs)(c.Tz,{children:[(0,ie.jsx)("div",{className:"text-alabaster dark:text-port-gore font-bold",children:Ue[w.g.CURRENCY_A]||"-"}),(0,ie.jsx)("div",{className:"text-sm dark:text-port-gore",children:null===K||void 0===K?void 0:K.symbol})]})]}),(0,ie.jsxs)("div",{className:"flex flex-row items-center w-full p-3 pr-8 space-x-3 rounded bg-blue-violet dark:bg-light",children:[(0,ie.jsx)(c.Xw,{currency:H,size:"46px"}),(0,ie.jsxs)(c.Tz,{children:[(0,ie.jsx)("div",{className:"text-alabaster dark:text-port-gore font-bold",children:Ue[w.g.CURRENCY_B]||"-"}),(0,ie.jsx)("div",{className:"text-alabaster dark:text-port-gore",children:null===H||void 0===H?void 0:H.symbol})]})]})]})]})})]}),(0,ie.jsx)("div",{style:{position:"relative"},children:$?(0,ie.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ie.jsx)(c.gn,{onClick:function(){return Qe.apply(this,arguments)},confirmed:Be===d.UK.APPROVED||null!==Se,disabled:Be!==d.UK.NOT_APPROVED||null!==Se,variant:"seance",className:"text-sm",children:Be===d.UK.PENDING?(0,ie.jsx)(c.bb,{children:"Approving"}):Be===d.UK.APPROVED||null!==Se?"Approved":"Approve"}),(0,ie.jsx)(c.Kd,{onClick:function(){je(!0),Re(null)},disabled:!he||null===Se&&Be!==d.UK.APPROVED,error:!he&&!!xe[w.g.CURRENCY_A]&&!!xe[w.g.CURRENCY_B],variant:"orange",children:fe||"Confirm Withdrawal"})]}):(0,ie.jsx)(c.ck,{className:"w-full sm:text-base text-sm text-black-russian dark:text-alabaster",variant:"gradient"})})]})]}),me?(0,ie.jsx)(c.WP,{showUnwrapped:ct,pair:me}):null]})]})}ae.Guard=(0,c.hJ)([h.a_.EUROPA]);var le=ae},22331:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/exchange/remove/[[...tokens]]",function(){return n(58868)}])},99548:function(e,t,n){"use strict";var i=n(67294),r=n(45697),s=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,s=e.size,l=void 0===s?24:s,c=a(e,["color","size"]);return i.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("polyline",{points:"16 12 12 8 8 12"}),i.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l.displayName="ArrowUpCircle",t.Z=l}},function(e){e.O(0,[9774,2888,179],(function(){return t=22331,e(e.s=t);var t}));var t=e.O();_N_E=t}]);