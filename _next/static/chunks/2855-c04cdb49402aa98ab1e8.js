(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2855,6470],{68463:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChain=void 0;var u=n(1015),c=o(n(22602)),l=o(n(38131)),h=new u.Logger,d=function(){function e(e,t,n){this.web3=e,this.abi=t,this.ERC20tokens={},this.ERC721tokens={},this.ERC1155tokens={},n&&(this.chainId=n),this.contracts=this.initContracts()}return e.prototype.addERC20Token=function(e,t){this.ERC20tokens[e]=t},e.prototype.addERC721Token=function(e,t){this.ERC721tokens[e]=t},e.prototype.addERC1155Token=function(e,t){this.ERC1155tokens[e]=t},e.prototype.listERC20Tokens=function(){return Object.keys(this.ERC20tokens)},e.prototype.listERC721Tokens=function(){return Object.keys(this.ERC721tokens)},e.prototype.listERC1155Tokens=function(){return Object.keys(this.ERC1155tokens)},e.prototype.getERC20Balance=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.ERC20tokens[e].methods.balanceOf(t).call({from:t})];case 1:return[2,n.sent()]}}))}))},e.prototype.getERC721OwnerOf=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:n=this.ERC721tokens[e],r.label=1;case 1:return r.trys.push([1,3,,4]),"string"===typeof t&&(t=Number(t)),[4,n.methods.ownerOf(t).call()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,c.ZERO_ADDRESS];case 4:return[2]}}))}))},e.prototype.getERC1155Balance=function(e,t,n){return s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.ERC1155tokens[e].methods.balanceOf(t,n).call({from:t})];case 1:return[2,r.sent()]}}))}))},e.prototype.waitETHBalanceChange=function(e,t,n,r){return void 0===n&&(n=c.DEFAULT_SLEEP),void 0===r&&(r=c.DEFAULT_ITERATIONS),s(this,void 0,void 0,(function(){var i,o;return a(this,(function(s){switch(s.label){case 0:i=1,s.label=1;case 1:return i<=r?(o=void 0,[4,this.ethBalance(e)]):[3,5];case 2:return o=s.sent(),t!==o?[3,5]:(l.isNode()&&h.info("Waiting for ETH balance change - address: "+e+", sleeping for "+n+"ms"),[4,l.sleep(n)]);case 3:s.sent(),s.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))},e.prototype.waitForChange=function(e,t,n,r,i,o,u){return void 0===o&&(o=c.DEFAULT_SLEEP),void 0===u&&(u=c.DEFAULT_ITERATIONS),s(this,void 0,void 0,(function(){var s,c;return a(this,(function(a){switch(a.label){case 0:s=1,a.label=1;case 1:return s<=u?(c=void 0,void 0!==i?[3,3]:[4,t(e,n)]):[3,10];case 2:c=a.sent(),a.label=3;case 3:return void 0!==n?[3,5]:[4,t(e,i)];case 4:c=a.sent(),a.label=5;case 5:return void 0===i||void 0===n?[3,7]:[4,t(e,n,i)];case 6:c=a.sent(),a.label=7;case 7:return r!==c?[3,10]:(l.isNode()&&h.info("Waiting for change - "+e+" - address: "+n+", sleeping for "+o+"ms"),[4,l.sleep(o)]);case 8:a.sent(),a.label=9;case 9:return s++,[3,1];case 10:return[2]}}))}))},e.prototype.waitERC20BalanceChange=function(e,t,n,r){return void 0===r&&(r=c.DEFAULT_SLEEP),s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.waitForChange(e,this.getERC20Balance.bind(this),t,n,void 0,r)];case 1:return i.sent(),[2]}}))}))},e.prototype.waitERC721OwnerChange=function(e,t,n,r){return void 0===r&&(r=c.DEFAULT_SLEEP),s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.waitForChange(e,this.getERC721OwnerOf.bind(this),void 0,n,t,r)];case 1:return i.sent(),[2]}}))}))},e.prototype.waitERC1155BalanceChange=function(e,t,n,r,i){return void 0===i&&(i=c.DEFAULT_SLEEP),s(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,this.waitForChange(e,this.getERC1155Balance.bind(this),t,r,n,i)];case 1:return o.sent(),[2]}}))}))},e}();t.BaseChain=d},30556:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1015),h=n(68463),d=s(n(37456)),f=s(n(22602)),p=s(n(38131)),g=c(n(1793)),m=new l.Logger,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.ethBalance=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.web3.eth.getBalance(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.initContracts=function(){return{depositBoxEth:new this.web3.eth.Contract(this.abi.deposit_box_eth_abi,this.abi.deposit_box_eth_address),depositBoxERC20:new this.web3.eth.Contract(this.abi.deposit_box_erc20_abi,this.abi.deposit_box_erc20_address),depositBoxERC721:new this.web3.eth.Contract(this.abi.deposit_box_erc721_abi,this.abi.deposit_box_erc721_address),depositBoxERC1155:new this.web3.eth.Contract(this.abi.deposit_box_erc1155_abi,this.abi.deposit_box_erc1155_address),communityPool:new this.web3.eth.Contract(this.abi.community_pool_abi,this.abi.community_pool_address),linker:new this.web3.eth.Contract(this.abi.linker_abi,this.abi.linker_address),message_proxy_mainnet:new this.web3.eth.Contract(this.abi.message_proxy_mainnet_abi,this.abi.message_proxy_mainnet_address)}},t.prototype.depositETHtoSChain=function(e,t){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=this.contracts.depositBoxEth.methods.deposit(e),[4,d.send(this.web3,n,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMyEth=function(e){return a(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=this.contracts.depositBoxEth.methods.getMyEth(),[4,d.send(this.web3,t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.reimbursementWalletBalance=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.contracts.communityPool.methods.getBalance(e,t).call()];case 1:return[2,n.sent()]}}))}))},t.prototype.reimbursementWalletRecharge=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.communityPool.methods.rechargeUserWallet(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.reimbursementWalletWithdraw=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.communityPool.methods.withdrawFunds(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.lockedETHAmount=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.depositBoxEth.methods.approveTransfers(e).call({from:e})];case 1:return[2,t.sent()]}}))}))},t.prototype.waitLockedETHAmountChange=function(e,t,n,r){return void 0===n&&(n=f.DEFAULT_SLEEP),void 0===r&&(r=f.DEFAULT_ITERATIONS),a(this,void 0,void 0,(function(){var i,o;return u(this,(function(s){switch(s.label){case 0:i=1,s.label=1;case 1:return i<=r?(o=void 0,[4,this.lockedETHAmount(e)]):[3,5];case 2:return o=s.sent(),t!==o?[3,5]:(p.isNode()&&m.info("Waiting for locked ETH balance change - address: "+e+", sleeping for "+n+"ms"),[4,p.sleep(n)]);case 3:s.sent(),s.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))},t.prototype.approveERC20Transfers=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return r=this.ERC20tokens[e],i=this.contracts.depositBoxERC20.options.address,o=r.methods.approve(i,t),[4,d.send(this.web3,o,n)];case 1:return[2,s.sent()]}}))}))},t.prototype.depositERC20=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,s;return u(this,(function(a){switch(a.label){case 0:return i=this.ERC20tokens[t],o=i.options.address,s=this.contracts.depositBoxERC20.methods.depositERC20(e,o,n),[4,d.send(this.web3,s,r)];case 1:return[2,a.sent()]}}))}))},t.prototype.approveERC721Transfer=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return r=this.ERC721tokens[e],i=this.contracts.depositBoxERC721.options.address,o=r.methods.approve(i,t),[4,d.send(this.web3,o,n)];case 1:return[2,s.sent()]}}))}))},t.prototype.depositERC721=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,o,s;return u(this,(function(a){switch(a.label){case 0:return i=this.ERC721tokens[t],o=i.options.address,s=this.contracts.depositBoxERC721.methods.depositERC721(e,o,n),[4,d.send(this.web3,s,r)];case 1:return[2,a.sent()]}}))}))},t.prototype.approveAllERC1155=function(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return n=this.ERC1155tokens[e],r=this.contracts.depositBoxERC1155.options.address,i=n.methods.setApprovalForAll(r,!0),[4,d.send(this.web3,i,t)];case 1:return[2,o.sent()]}}))}))},t.prototype.depositERC1155=function(e,t,n,r,i){return a(this,void 0,void 0,(function(){var o,s,a;return u(this,(function(u){switch(u.label){case 0:if(o=this.ERC1155tokens[t],s=o.options.address,"number"===typeof n&&"string"===typeof r)a=this.contracts.depositBoxERC1155.methods.depositERC1155(e,s,n,r);else{if(!(n instanceof Array&&r instanceof Array))throw new g.default("tokenIds and amounts should both be arrays of single objects");a=this.contracts.depositBoxERC1155.methods.depositERC1155Batch(e,s,n,r)}return[4,d.send(this.web3,a,i)];case 1:return[2,u.sent()]}}))}))},t.prototype.getSchainToAllERC20Length=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.depositBoxERC20.methods.getSchainToAllERC20Length(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.getSchainToAllERC20=function(e,t,n){return a(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,this.contracts.depositBoxERC20.methods.getSchainToAllERC20(e,t,n).call()];case 1:return[2,r.sent()]}}))}))},t.prototype.getSchainToAllERC721Length=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.depositBoxERC721.methods.getSchainToAllERC721Length(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.getSchainToAllERC721=function(e,t,n){return a(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,this.contracts.depositBoxERC721.methods.getSchainToAllERC721(e,t,n).call()];case 1:return[2,r.sent()]}}))}))},t.prototype.getSchainToAllERC1155Length=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.depositBoxERC1155.methods.getSchainToAllERC1155Length(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.getSchainToAllERC1155=function(e,t,n){return a(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,this.contracts.depositBoxERC1155.methods.getSchainToAllERC1155(e,t,n).call()];case 1:return[2,r.sent()]}}))}))},t.prototype.LINKER_ROLE=function(){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.contracts.linker.methods.LINKER_ROLE().call()];case 1:return[2,e.sent()]}}))}))},t.prototype.grantRoleLinker=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.linker.methods.grantRole(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.connectSchain=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.linker.methods.connectSchain(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.isChainConnected=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.message_proxy_mainnet.methods.isConnectedChain(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.enableWhitelist=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts[e].methods.enableWhitelist(t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.disableWhitelist=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts[e].methods.disableWhitelist(t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.disableWhitelistERC20=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.disableWhitelist("depositBoxERC20",e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.disableWhitelistERC721=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.disableWhitelist("depositBoxERC721",e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.disableWhitelistERC1155=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.disableWhitelist("depositBoxERC1155",e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.isERC20Added=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.contracts.depositBoxERC20.methods.getSchainToERC20(e,t).call()];case 1:return[2,n.sent()]}}))}))},t.prototype.isERC721Added=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.contracts.depositBoxERC721.methods.getSchainToERC721(e,t).call()];case 1:return[2,n.sent()]}}))}))},t.prototype.isERC1155Added=function(e,t){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.contracts.depositBoxERC1155.methods.getSchainToERC1155(e,t).call()];case 1:return[2,n.sent()]}}))}))},t.prototype.addERC20TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.depositBoxERC20.methods.addERC20TokenByOwner(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.addERC721TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.depositBoxERC721.methods.addERC721TokenByOwner(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.addERC1155TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.depositBoxERC1155.methods.addERC1155TokenByOwner(e,t),[4,d.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t}(h.BaseChain);t.default=v},84015:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(68463),h=s(n(37456)),d=c(n(1793)),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initContracts=function(){return{ethERC20:new this.web3.eth.Contract(this.abi.eth_erc20_abi,this.abi.eth_erc20_address),tokenManagerEth:new this.web3.eth.Contract(this.abi.token_manager_eth_abi,this.abi.token_manager_eth_address),tokenManagerERC20:new this.web3.eth.Contract(this.abi.token_manager_erc20_abi,this.abi.token_manager_erc20_address),tokenManagerERC721:new this.web3.eth.Contract(this.abi.token_manager_erc721_abi,this.abi.token_manager_erc721_address),tokenManagerERC1155:new this.web3.eth.Contract(this.abi.token_manager_erc1155_abi,this.abi.token_manager_erc1155_address),communityLocker:new this.web3.eth.Contract(this.abi.community_locker_abi,this.abi.community_locker_address),tokenManagerLinker:new this.web3.eth.Contract(this.abi.token_manager_linker_abi,this.abi.token_manager_linker_address)}},t.prototype.ethBalance=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.ethERC20.methods.balanceOf(e).call({from:e})];case 1:return[2,t.sent()]}}))}))},t.prototype.withdrawETH=function(e,t){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=this.contracts.tokenManagerEth.methods.exitToMain(e),[4,h.send(this.web3,n,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.setTimeLimitPerMessage=function(e,t){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return[4,this.contracts.communityLocker.methods.setTimeLimitPerMessage(e)];case 1:return n=r.sent(),[4,h.send(this.web3,n,t)];case 2:return[2,r.sent()]}}))}))},t.prototype.addERC20TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.tokenManagerERC20.methods.addERC20TokenByOwner(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.isERC20Added=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.tokenManagerERC20.methods.clonesErc20(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.isERC721Added=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.tokenManagerERC721.methods.clonesErc721(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.isERC1155Added=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.contracts.tokenManagerERC1155.methods.clonesErc1155(e).call()];case 1:return[2,t.sent()]}}))}))},t.prototype.addERC721TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.tokenManagerERC721.methods.addERC721TokenByOwner(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.addERC1155TokenByOwner=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.tokenManagerERC1155.methods.addERC1155TokenByOwner(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.enableAutomaticDeploy=function(e,t){return a(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return n="tokenManager"+e,r=this.contracts[n].methods.enableAutomaticDeploy(),[4,h.send(this.web3,r,t)];case 1:return[2,i.sent()]}}))}))},t.prototype.disableAutomaticDeploy=function(e,t){return a(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return n="tokenManager"+e,r=this.contracts[n].methods.disableAutomaticDeploy(),[4,h.send(this.web3,r,t)];case 1:return[2,i.sent()]}}))}))},t.prototype.automaticDeploy=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.tokenManager(e).methods.automaticDeploy().call()];case 1:return[2,t.sent()]}}))}))},t.prototype.grantRoleTokenManager=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i;return u(this,(function(o){switch(o.label){case 0:return i=this.tokenManager(e).methods.grantRole(t,n),[4,h.send(this.web3,i,r)];case 1:return[2,o.sent()]}}))}))},t.prototype.AUTOMATIC_DEPLOY_ROLE=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.tokenManager(e).methods.AUTOMATIC_DEPLOY_ROLE().call()];case 1:return[2,t.sent()]}}))}))},t.prototype.TOKEN_REGISTRAR_ROLE=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.tokenManager(e).methods.TOKEN_REGISTRAR_ROLE().call()];case 1:return[2,t.sent()]}}))}))},t.prototype.tokenManager=function(e){return this.contracts["tokenManager"+e]},t.prototype.CONSTANT_SETTER_ROLE=function(){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.contracts.communityLocker.methods.CONSTANT_SETTER_ROLE().call()];case 1:return[2,e.sent()]}}))}))},t.prototype.grantRoleCommunityLocker=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.communityLocker.methods.grantRole(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.approveERC20Transfers=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return r=this.ERC20tokens[e],i=this.contracts.tokenManagerERC20.options.address,o=r.methods.approve(i,t),[4,h.send(this.web3,o,n)];case 1:return[2,s.sent()]}}))}))},t.prototype.withdrawERC20=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.tokenManagerERC20.methods.exitToMainERC20(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.approveERC721Transfer=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return r=this.ERC721tokens[e],i=this.contracts.tokenManagerERC721.options.address,o=r.methods.approve(i,t),[4,h.send(this.web3,o,n)];case 1:return[2,s.sent()]}}))}))},t.prototype.withdrawERC721=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return r=this.contracts.tokenManagerERC721.methods.exitToMainERC721(e,t),[4,h.send(this.web3,r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.approveAllERC1155=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(s){switch(s.label){case 0:return r=this.ERC1155tokens[e],i=this.contracts.tokenManagerERC1155.options.address,o=r.methods.setApprovalForAll(i,t),[4,h.send(this.web3,o,n)];case 1:return[2,s.sent()]}}))}))},t.prototype.withdrawERC1155=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i;return u(this,(function(o){switch(o.label){case 0:if("number"===typeof t&&"string"===typeof n)i=this.contracts.tokenManagerERC1155.methods.exitToMainERC1155(e,t,n);else{if(!(t instanceof Array&&n instanceof Array))throw new d.default("tokenIds and amounts should both be arrays of single objects");i=this.contracts.tokenManagerERC1155.methods.exitToMainERC1155Batch(e,t,n)}return[4,h.send(this.web3,i,r)];case 1:return[2,o.sent()]}}))}))},t}(l.BaseChain);t.default=f},22602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ITERATIONS=t.DEFAULT_SLEEP=t.ZERO_ADDRESS=t.MAX_APPROVAL_AMOUNT=t.GAS_PRICE_MULTIPLIER=t.DEFAULT_GAS_MULTIPLIER=t.DEFAULT_GAS_LIMIT=t.errorMessages=t.PRIVATE_KEY_REGEX=void 0,t.PRIVATE_KEY_REGEX=/^(0x)?[0-9a-f]{64}$/i,t.errorMessages={FAILED_TRANSACTION:"Transaction has been failed",REVERTED_TRANSACTION:"Transaction has been reverted by the EVM:",INVALID_KEYPAIR:"Keypair mismatch",INVALID_PRIVATEKEY:"Incorrect privateKey"},t.DEFAULT_GAS_LIMIT=1e7,t.DEFAULT_GAS_MULTIPLIER=1.5,t.GAS_PRICE_MULTIPLIER=1.3,t.MAX_APPROVAL_AMOUNT="999999999999000000000000000000",t.ZERO_ADDRESS="0x0000000000000000000000000000000000000000",t.DEFAULT_SLEEP=3e3,t.DEFAULT_ITERATIONS=30},50156:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,Error.captureStackTrace(n,n.constructor),n}return n(t,e),t}(Error);t.default=r},1793:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,Error.captureStackTrace(n,n.constructor),n}return n(t,e),t}(Error);t.default=r},73361:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,Error.captureStackTrace(n,n.constructor),n}return n(t,e),t}(Error);t.default=r},38131:function(e,t,n){"use strict";var r=n(34155),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=t.sleep=t.validatePrivateKey=t.fileExists=t.jsonFileLoad=t.remove0x=t.add0x=t.privateKeyToAddress=t.privateKeyToAccount=void 0;var u=a(n(8596)),c=s(n(22602)),l=a(n(73361));function h(e,t){return e.eth.accounts.privateKeyToAccount(t)}function d(e){if(u.default.existsSync(e)&&u.default.statSync(e).isFile())return!0;return!1}t.privateKeyToAccount=h,t.privateKeyToAddress=function(e,t){return h(e,t).address},t.add0x=function(e){return e.startsWith("0x")?e:"0x"+e},t.remove0x=function(e){return e.startsWith("0x")?e.slice(2):e},t.jsonFileLoad=function(e){if(!d(e))return{};var t=u.default.readFileSync(e);return JSON.parse(t.toString())},t.fileExists=d,t.validatePrivateKey=function(e){if(!c.PRIVATE_KEY_REGEX.test(e))throw new l.default(c.errorMessages.INVALID_PRIVATEKEY)},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.isNode=function(){var e=!1;return"object"===typeof r&&"object"===typeof r.versions&&"undefined"!==typeof r.versions.node&&(e=!0),e}},92855:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IMA=t.helper=t.SChain=t.MainnetChain=void 0;var c=n(30556);Object.defineProperty(t,"MainnetChain",{enumerable:!0,get:function(){return u(c).default}});var l=n(84015);Object.defineProperty(t,"SChain",{enumerable:!0,get:function(){return u(l).default}}),t.helper=o(n(38131));var h=u(n(30556)),d=u(n(84015)),f=o(n(22602)),p=function(){function e(e,t,n,r){this.mainnet=new h.default(e,n),this.schain=new d.default(t,r)}return e.prototype.addERC20Token=function(e,t,n){this.mainnet.addERC20Token(e,t),this.schain.addERC20Token(e,n)},e.prototype.addERC721Token=function(e,t,n){this.mainnet.addERC721Token(e,t),this.schain.addERC721Token(e,n)},e.prototype.addERC1155Token=function(e,t,n){this.mainnet.addERC1155Token(e,t),this.schain.addERC1155Token(e,n)},e.prototype.depositERC20=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.mainnet.depositERC20(e,t,n,r)];case 1:return[2,i.sent()]}}))}))},e.prototype.withdrawERC20=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return r=this.mainnet.ERC20tokens[e],i=r.options.address,[4,this.schain.withdrawERC20(i,t,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.depositERC721=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.mainnet.depositERC721(e,t,n,r)];case 1:return[2,i.sent()]}}))}))},e.prototype.withdrawERC721=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return r=this.mainnet.ERC721tokens[e],i=r.options.address,[4,this.schain.withdrawERC721(i,t,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.depositERC1155=function(e,t,n,r,i){return s(this,void 0,void 0,(function(){return a(this,(function(o){switch(o.label){case 0:return[4,this.mainnet.depositERC1155(e,t,n,r,i)];case 1:return[2,o.sent()]}}))}))},e.prototype.withdrawERC1155=function(e,t,n,r){return s(this,void 0,void 0,(function(){var i,o;return a(this,(function(s){switch(s.label){case 0:return i=this.mainnet.ERC1155tokens[e],o=i.options.address,[4,this.schain.withdrawERC1155(o,t,n,r)];case 1:return[2,s.sent()]}}))}))},e.prototype.linkERC20Token=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.mainnet.isERC20Added(e,t)];case 1:return i.sent()?[3,3]:[4,this.mainnet.addERC20TokenByOwner(e,t,r)];case 2:i.sent(),i.label=3;case 3:return[4,this.schain.isERC20Added(t)];case 4:return i.sent()!==f.ZERO_ADDRESS?[3,6]:[4,this.schain.addERC20TokenByOwner(t,n,r)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e.prototype.linkERC721Token=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.mainnet.isERC721Added(e,t)];case 1:return i.sent()?[3,3]:[4,this.mainnet.addERC721TokenByOwner(e,t,r)];case 2:i.sent(),i.label=3;case 3:return[4,this.schain.isERC721Added(t)];case 4:return i.sent()!==f.ZERO_ADDRESS?[3,6]:[4,this.schain.addERC721TokenByOwner(t,n,r)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e.prototype.linkERC1155Token=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.mainnet.isERC1155Added(e,t)];case 1:return i.sent()?[3,3]:[4,this.mainnet.addERC1155TokenByOwner(e,t,r)];case 2:i.sent(),i.label=3;case 3:return[4,this.schain.isERC1155Added(t)];case 4:return i.sent()!==f.ZERO_ADDRESS?[3,6]:[4,this.schain.addERC1155TokenByOwner(t,n,r)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e.prototype.enableAutomaticDeploy=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.schain.enableAutomaticDeploy(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.disableAutomaticDeploy=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.schain.disableAutomaticDeploy(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.connectSchain=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=[this.schain.contracts.tokenManagerLinker.options.address,this.schain.contracts.communityLocker.options.address,this.schain.contracts.tokenManagerEth.options.address,this.schain.contracts.tokenManagerERC20.options.address,this.schain.contracts.tokenManagerERC721.options.address,this.schain.contracts.tokenManagerERC1155.options.address],[4,this.mainnet.connectSchain(e,n,t)];case 1:return[2,r.sent()]}}))}))},e}();t.IMA=p},37456:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.currentGasPrice=t.currentBlockGasLimit=t.estimateGasLimit=t.send=t.sendWithExternalSigning=t.signAndSend=void 0;var c=n(1015),l=o(n(38131)),h=o(n(22602)),d=u(n(50156)),f=u(n(73361)),p=new c.Logger;function g(e,t,n,r,i,o){return s(this,void 0,void 0,(function(){var s,u,c,d,p,g,m,v;return a(this,(function(a){switch(a.label){case 0:if(s=n.encodeABI(),u=n._parent._address,c=e.eth.accounts.privateKeyToAccount(o).address,t!==c&&t!==l.remove0x(c))throw new f.default(h.errorMessages.INVALID_KEYPAIR);return[4,e.eth.getChainId()];case 1:return d=a.sent(),[4,e.eth.getTransactionCount(t)];case 2:return p=a.sent(),g={from:t,data:s,gas:r,to:u,nonce:p,chainId:d,value:i},[4,e.eth.accounts.signTransaction(g,o)];case 3:return m=a.sent(),v=m.rawTransaction,[4,e.eth.sendSignedTransaction(v)];case 4:return[2,a.sent()]}}))}))}function m(e,t,n,r,i){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,n.send({from:t,gas:r,value:i})];case 1:return[2,e.sent()]}}))}))}function v(e,t,n,r,i){return void 0===r&&(r="0"),void 0===i&&(i=h.DEFAULT_GAS_MULTIPLIER),s(this,void 0,void 0,(function(){var o,s;return a(this,(function(a){switch(a.label){case 0:return o=0,[4,y(e)];case 1:s=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,n.estimateGas({from:t,value:r})];case 3:return o=a.sent(),[3,5];case 4:return a.sent(),o=0,[3,5];case 5:return o*=i,0===(o=Math.ceil(o))&&(o=h.DEFAULT_GAS_LIMIT),o>s&&(o=s),[2,o.toString()]}}))}))}function y(e){return s(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,e.eth.getBlockNumber()];case 1:return t=n.sent(),[4,e.eth.getBlock(t)];case 2:return[2,n.sent().gasLimit]}}))}))}t.signAndSend=g,t.sendWithExternalSigning=m,t.send=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i,o,s,u,c,f;return a(this,(function(a){switch(a.label){case 0:return n.customGasLimit?(i=n.customGasLimit,[3,3]):[3,1];case 1:return[4,v(e,n.address,t,n.value)];case 2:i=a.sent(),a.label=3;case 3:n.value||(n.value="0"),l.isNode()&&p.info("sending tx: "+t._method.name+", gasLimit: "+i+", to: "+t._parent._address+", value: "+n.value),a.label=4;case 4:return a.trys.push([4,9,,10]),n.privateKey&&"string"===typeof n.privateKey&&n.privateKey.length>0?(o=l.add0x(n.privateKey),l.validatePrivateKey(o),[4,g(e,n.address,t,i,n.value,o)]):[3,6];case 5:return r=a.sent(),[3,8];case 6:return[4,m(0,n.address,t,i,n.value)];case 7:r=a.sent(),a.label=8;case 8:return l.isNode()&&p.info("mined tx: "+t._method.name+", txHash: "+r.transactionHash+", status: "+r.status),[2,r];case 9:throw s=a.sent(),(u=s).message.includes(h.errorMessages.REVERTED_TRANSACTION)?(c=u.message.substr(h.errorMessages.REVERTED_TRANSACTION.length),(f=JSON.parse(c).revertReason)?new d.default(f):new d.default(h.errorMessages.FAILED_TRANSACTION)):s;case 10:return[2]}}))}))},t.estimateGasLimit=v,t.currentBlockGasLimit=y,t.currentGasPrice=function(e){return s(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return[4,e.eth.getGasPrice()];case 1:return t=i.sent(),n=e.utils.toBN(t),r=e.utils.toBN(h.GAS_PRICE_MULTIPLIER),n.mul(r),[2,n.toString(10)]}}))}))}},55420:function(e,t,n){var r=n(48764).Buffer,i=Object.prototype.toString,o="undefined"!==typeof r&&"function"===typeof r.alloc&&"function"===typeof r.allocUnsafe&&"function"===typeof r.from;e.exports=function(e,t,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return s=e,"ArrayBuffer"===i.call(s).slice(8,-1)?function(e,t,n){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=i;else if((n>>>=0)>i)throw new RangeError("'length' is out of bounds");return o?r.from(e.slice(t,t+n)):new r(new Uint8Array(e.slice(t,t+n)))}(e,t,n):"string"===typeof e?function(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!r.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return o?r.from(e,t):new r(e,t)}(e,t):o?r.from(e):new r(e);var s}},26470:function(e,t,n){"use strict";var r=n(34155);function i(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var s={resolve:function(){for(var e,t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=r.cwd()),a=e),i(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=o(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":s.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=s.resolve(e))===(t=s.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,o=r-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var u=t.length-a,c=o<u?o:u,l=-1,h=0;h<=c;++h){if(h===c){if(u>c){if(47===t.charCodeAt(a+h))return t.slice(a+h+1);if(0===h)return t.slice(a+h)}else o>c&&(47===e.charCodeAt(n+h)?l=h:0===h&&(l=0));break}var d=e.charCodeAt(n+h);if(d!==t.charCodeAt(a+h))break;47===d&&(l=h)}var f="";for(h=n+l+1;h<=r;++h)h!==r&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(a+l):(a+=l,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');i(e);var n,r=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){r=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(c===t.charCodeAt(a)?-1===--a&&(o=n):(a=-1,o=u))}return r===o?o=u:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){r=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname:function(e){i(e);for(var t=-1,n=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),o=47===r;o?(t.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,c=!0,l=e.length-1,h=0;l>=n;--l)if(47!==(r=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===r?-1===s?s=l:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=l+1;break}return-1===s||-1===u||0===h||1===h&&s===u-1&&s===a+1?-1!==u&&(t.base=t.name=0===a&&o?e.slice(1,u):e.slice(a,u)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,u)):(t.name=e.slice(a,s),t.base=e.slice(a,u)),t.ext=e.slice(s,u)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},76252:function(e,t,n){e=n.nmd(e);var r,i=n(34155),o=n(49125).SourceMapConsumer,s=n(26470);try{(r=n(40770)).existsSync&&r.readFileSync||(r=null)}catch(x){}var a=n(55420);function u(e,t){return e.require(t)}var c=!1,l=!1,h=!1,d="auto",f={},p={},g=/^data:application\/json[^,]+base64,/,m=[],v=[];function y(){return"browser"===d||"node"!==d&&("undefined"!==typeof window&&"function"===typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function _(e){return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r)return r}return null}}var b=_(m);function w(e,t){if(!e)return t;var n=s.dirname(e),r=/^\w+:\/\/[^\/]*/.exec(n),i=r?r[0]:"",o=n.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/")+s.resolve(n.slice(i.length),t).replace(/\\/g,"/"):i+s.resolve(n.slice(i.length),t)}m.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,t){return t?"":"/"}))),e in f)return f[e];var t="";try{if(r)r.existsSync(e)&&(t=r.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),4===n.readyState&&200===n.status&&(t=n.responseText)}}catch(i){}return f[e]=t}));var E=_(v);function C(e){var t=p[e.source];if(!t){var n=E(e.source);n?(t=p[e.source]={url:n.url,map:new o(n.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,n){var r=t.map.sourcesContent[n];if(r){var i=w(t.url,e);f[i]=r}})):t=p[e.source]={url:null,map:null}}if(t&&t.map&&"function"===typeof t.map.originalPositionFor){var r=t.map.originalPositionFor(e);if(null!==r.source)return r.source=w(t.url,r.source),r}return e}function R(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=C({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return(t=/^eval at ([^(]+) \((.+)\)$/.exec(e))?"eval at "+t[1]+" ("+R(t[2])+")":e}function S(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var n=this.getLineNumber();if(null!=n){t+=":"+n;var r=this.getColumnNumber();r&&(t+=":"+r)}}var i="",o=this.getFunctionName(),s=!0,a=this.isConstructor();if(!(this.isToplevel()||a)){var u=this.getTypeName();"[object Object]"===u&&(u="null");var c=this.getMethodName();o?(u&&0!=o.indexOf(u)&&(i+=u+"."),i+=o,c&&o.indexOf("."+c)!=o.length-c.length-1&&(i+=" [as "+c+"]")):i+=u+"."+(c||"<anonymous>")}else a?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,s=!1);return s&&(i+=" ("+t+")"),i}function O(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]})),t.toString=S,t}function A(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var r=e.getLineNumber(),o=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test("object"===typeof i&&null!==i?i.version:"")?0:62;1===r&&o>s&&!y()&&!e.isEval()&&(o-=s);var a=C({source:n,line:r,column:o});t.curPosition=a;var u=(e=O(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?u():t.nextPosition.name||u()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var c=e.isEval()&&e.getEvalOrigin();return c?(c=R(c),(e=O(e)).getEvalOrigin=function(){return c},e):e}function L(e,t){h&&(f={},p={});for(var n=(e.name||"Error")+": "+(e.message||""),r={nextPosition:null,curPosition:null},i=[],o=t.length-1;o>=0;o--)i.push("\n    at "+A(t[o],r)),r.nextPosition=r.curPosition;return r.curPosition=r.nextPosition=null,n+i.reverse().join("")}function T(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],i=+t[2],o=+t[3],s=f[n];if(!s&&r&&r.existsSync(n))try{s=r.readFileSync(n,"utf8")}catch(u){s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[i-1];if(a)return n+":"+i+"\n"+a+"\n"+new Array(o).join(" ")+"^"}}return null}function k(e){var t=T(e),n=function(){if("object"===typeof i&&null!==i)return i.stderr}();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),function(e){if("object"===typeof i&&null!==i&&"function"===typeof i.exit)i.exit(e)}(1)}v.push((function(e){var t,n=function(e){var t;if(y())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch(a){}t=b(e);for(var i,o,s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;o=s.exec(t);)i=o;return i?i[1]:null}(e);if(!n)return null;if(g.test(n)){var r=n.slice(n.indexOf(",")+1);t=a(r,"base64").toString(),n=e}else n=w(e,n),t=b(n);return t?{url:n,map:t}:null}));var P=m.slice(0),M=v.slice(0);t.wrapCallSite=A,t.getErrorSource=T,t.mapSourcePosition=C,t.retrieveSourceMap=E,t.install=function(t){if((t=t||{}).environment&&(d=t.environment,-1===["node","browser","auto"].indexOf(d)))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(m.length=0),m.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(v.length=0),v.unshift(t.retrieveSourceMap)),t.hookRequire&&!y()){var n=u(e,"module"),r=n.prototype._compile;r.__sourceMapSupport||(n.prototype._compile=function(e,t){return f[t]=e,p[t]=void 0,r.call(this,e,t)},n.prototype._compile.__sourceMapSupport=!0)}if(h||(h="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),c||(c=!0,Error.prepareStackTrace=L),!l){var o=!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions;try{!1===u(e,"worker_threads").isMainThread&&(o=!1)}catch(s){}o&&"object"===typeof i&&null!==i&&"function"===typeof i.on&&(l=!0,function(){var e=i.emit;i.emit=function(t){if("uncaughtException"===t){var n=arguments[1]&&arguments[1].stack,r=this.listeners(t).length>0;if(n&&!r)return k(arguments[1])}return e.apply(this,arguments)}}())}},t.resetRetrieveHandlers=function(){m.length=0,v.length=0,m=P.slice(0),v=M.slice(0),E=_(v),b=_(m)}},78213:function(e,t,n){var r=n(32728),i=Object.prototype.hasOwnProperty,o="undefined"!==typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=o?e:r.toSetString(e),s=o?this.has(e):i.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.I=s},16400:function(e,t,n){var r=n(67923);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,s=e.length,a=0,u=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),a+=(o&=31)<<u,u+=5}while(i);n.value=function(e){var t=e>>1;return 1===(1&e)?-t:t}(a),n.rest=t}},67923:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},9216:function(e,t){function n(e,r,i,o,s,a){var u=Math.floor((r-e)/2)+e,c=s(i,o[u],!0);return 0===c?u:c>0?r-u>1?n(u,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:u:u-e>1?n(e,u,i,o,s,a):a==t.LEAST_UPPER_BOUND?u:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,i,o){if(0===r.length)return-1;var s=n(-1,r.length,e,r,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(r[s],r[s-1],!0);)--s;return s}},21188:function(e,t,n){var r=n(32728);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){!function(e,t){var n=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return i>n||i==n&&s>=o||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=i},22826:function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,i,o){if(i<o){var s=i-1;n(e,(l=i,h=o,Math.round(l+Math.random()*(h-l))),o);for(var a=e[o],u=i;u<o;u++)t(e[u],a)<=0&&n(e,s+=1,u);n(e,s+1,u);var c=s+1;r(e,t,i,c-1),r(e,t,c+1,o)}var l,h}t.U=function(e,t){r(e,t,0,e.length-1)}},76771:function(e,t,n){var r=n(32728),i=n(9216),o=n(78213).I,s=n(16400),a=n(22826).U;function u(e,t){var n=e;return"string"===typeof e&&(n=r.parseSourceMapInput(e)),null!=n.sections?new h(n,t):new c(n,t)}function c(e,t){var n=e;"string"===typeof e&&(n=r.parseSourceMapInput(e));var i=r.getArg(n,"version"),s=r.getArg(n,"sources"),a=r.getArg(n,"names",[]),u=r.getArg(n,"sourceRoot",null),c=r.getArg(n,"sourcesContent",null),l=r.getArg(n,"mappings"),h=r.getArg(n,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);u&&(u=r.normalize(u)),s=s.map(String).map(r.normalize).map((function(e){return u&&r.isAbsolute(u)&&r.isAbsolute(e)?r.relative(u,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return r.computeSourceURL(u,e,t)})),this.sourceRoot=u,this.sourcesContent=c,this._mappings=l,this._sourceMapURL=t,this.file=h}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e,t){var n=e;"string"===typeof e&&(n=r.parseSourceMapInput(e));var i=r.getArg(n,"version"),s=r.getArg(n,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),i=r.getArg(n,"line"),o=r.getArg(n,"column");if(i<a.line||i===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:new u(r.getArg(e,"map"),t)}}))}u.fromSourceMap=function(e,t){return c.fromSourceMap(e,t)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},u.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:i=this._generatedMappings;break;case u.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=r.computeSourceURL(s,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},u.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var u=a.originalLine;a&&a.originalLine===u;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=u,c.prototype=Object.create(u.prototype),c.prototype.consumer=u,c.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},c.fromSourceMap=function(e,t){var n=Object.create(c.prototype),i=n._names=o.fromArray(e._names.toArray(),!0),s=n._sources=o.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return r.computeSourceURL(n.sourceRoot,e,t)}));for(var u=e._mappings.toArray().slice(),h=n.__generatedMappings=[],d=n.__originalMappings=[],f=0,p=u.length;f<p;f++){var g=u[f],m=new l;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=s.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=i.indexOf(g.name)),d.push(m)),h.push(m)}return a(n.__originalMappings,r.compareByOriginalPositions),n},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(e,t){for(var n,i,o,u,c,h=1,d=0,f=0,p=0,g=0,m=0,v=e.length,y=0,_={},b={},w=[],E=[];y<v;)if(";"===e.charAt(y))h++,y++,d=0;else if(","===e.charAt(y))y++;else{for((n=new l).generatedLine=h,u=y;u<v&&!this._charIsMappingSeparator(e,u);u++);if(o=_[i=e.slice(y,u)])y+=i.length;else{for(o=[];y<u;)s.decode(e,y,b),c=b.value,y=b.rest,o.push(c);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");_[i]=o}n.generatedColumn=d+o[0],d=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=f+o[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=p+o[3],p=n.originalColumn,o.length>4&&(n.name=m+o[4],m+=o[4])),E.push(n),"number"===typeof n.originalLine&&w.push(n)}a(E,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,a(w,r.compareByOriginalPositions),this.__originalMappings=w},c.prototype._findMapping=function(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),o=r.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=r.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i,o=e;if(null!=this.sourceRoot&&(o=r.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=r.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(u.prototype),h.prototype.constructor=u,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var u=o[s],c=i.consumer._sources.at(u.source);c=r.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var l=null;u.name&&(l=i.consumer._names.at(u.name),this._names.add(l),l=this._names.indexOf(l));var h={source:c,generatedLine:u.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(i.generatedOffset.generatedLine===u.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:l};this.__generatedMappings.push(h),"number"===typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)}},34433:function(e,t,n){var r=n(16400),i=n(32728),o=n(78213).I,s=n(21188).H;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=i.relative(t,r)),n._sources.has(o)||n._sources.add(o);var s=e.sourceContentFor(r);null!=s&&n.setSourceContent(r,s)})),n},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=i.relative(s,r));var a=new o,u=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var c=t.source;null==c||a.has(c)||a.add(c);var l=t.name;null==l||u.has(l)||u.add(l)}),this),this._sources=a,this._names=u,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!==typeof t.line&&"number"!==typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,u=0,c=0,l=0,h=0,d="",f=this._mappings.toArray(),p=0,g=f.length;p<g;p++){if(e="",(t=f[p]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(p>0){if(!i.compareByGeneratedPositionsInflated(t,f[p-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=a},17085:function(e,t,n){var r=n(34433).h,i=n(32728),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(o),u=0,c=function(){return e()+(e()||"");function e(){return u<s.length?s[u++]:void 0}},l=1,h=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(l<e.generatedLine)){var t=(n=s[u]||"").substr(0,e.generatedColumn-h);return s[u]=n.substr(e.generatedColumn-h),h=e.generatedColumn,f(d,t),void(d=e)}f(d,c()),l++,h=0}for(;l<e.generatedLine;)r.add(c()),l++;if(h<e.generatedColumn){var n=s[u]||"";r.add(n.substr(0,e.generatedColumn)),s[u]=n.substr(e.generatedColumn),h=e.generatedColumn}d=e}),this),u<s.length&&(d&&f(d,c()),r.add(s.splice(u).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))})),r;function f(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!==typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!==typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"===typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,u=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&u===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,u=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}}},32728:function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),u=n.split(/\/+/),c=0,l=u.length-1;l>=0;l--)"."===(s=u[l])?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return""===(n=u.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var u="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=u,o(a)):u}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=u?c:function(e){return l(e)?"$"+e:e},t.fromSetString=u?c:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=h(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=h(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=i(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var u=r.path.lastIndexOf("/");u>=0&&(r.path=r.path.substring(0,u+1))}t=a(o(r),t)}return s(t)}},49125:function(e,t,n){n(34433).h,t.SourceMapConsumer=n(76771).SourceMapConsumer,n(17085)},1015:function(e,t,n){"use strict";n.r(t),n.d(t,{Logger:function(){return v},LoggerWithoutCallSite:function(){return m}});var r=n(76252),i=n(67435),o=n(26470),s=n(89539),a=n(16582);const u=Symbol("callsites");const c=Error.prepareStackTrace||function(e,t){const n=[];try{n.push(e.toString())}catch(r){n.push("<error: "+r+">")}for(let i=0;i<t.length;i++){const e=t[i];let o;try{o=e.toString()}catch(r){o="<error: "+r+">"}n.push("    at "+o)}return n.join("\n")};let l=c;function h(e,t){var n;return Object.prototype.hasOwnProperty.call(e,u)?c(e,t):(Object.defineProperty(e,u,{enumerable:!1,configurable:!0,writable:!1,value:t}),null!==(n=l&&l(e,t))&&void 0!==n?n:e.toString())}function d(e){return e.stack,e[u]||[]}Object.defineProperty(Error,"prepareStackTrace",{configurable:!0,enumerable:!0,get:function(){return h},set:function(e){l=e===h?c:e}});var f=n(34155);class p{static cleanUpFilePath(e){return Object.entries(e.split(o.sep)).reduce(((e,t)=>t[1]!==p.cwdArray[t[0]]?e+=o.sep+t[1]:e),"").substring(1)}static isError(e){return null!=(null===s.types||void 0===s.types?void 0:s.types.isNativeError)?s.types.isNativeError(e):e instanceof Error}static getCallSites(e,t=!0){const n=null==e?d(new Error).slice(1):d(e);return!0===t&&null!=(null===n||void 0===n?void 0:n.reduce)?n.reduce(((e,t)=>{var n,r,i;return null!=(null===t||void 0===t?void 0:t.getFileName())&&""!==(null===t||void 0===t?void 0:t.getFileName())&&0!==(null===(n=null===t||void 0===t?void 0:t.getFileName())||void 0===n?void 0:n.indexOf("internal/"))&&0!==(null===(r=null===t||void 0===t?void 0:t.getFileName())||void 0===r?void 0:r.indexOf("module.js"))&&0!==(null===(i=null===t||void 0===t?void 0:t.getFileName())||void 0===i?void 0:i.indexOf("bootstrap_node.js"))&&e.push(t),e}),[]):n}static toStackFrameObject(e){var t,n,r,i,s,a;let u=e.getFileName()||"";return u=u.replace("file://",""),{filePath:p.cleanUpFilePath(u),fullFilePath:u,fileName:(0,o.basename)(u),lineNumber:null!==(t=e.getLineNumber())&&void 0!==t?t:void 0,columnNumber:null!==(n=e.getColumnNumber())&&void 0!==n?n:void 0,isConstructor:null!==(r=e.isConstructor())&&void 0!==r?r:void 0,functionName:null!==(i=e.getFunctionName())&&void 0!==i?i:void 0,typeName:null!==(s=e.getTypeName())&&void 0!==s?s:void 0,methodName:null!==(a=e.getMethodName())&&void 0!==a?a:void 0}}static initErrorToJsonHelper(){"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){return Object.getOwnPropertyNames(this).reduce(((e,t)=>(e[t]=this[t],e)),{})},configurable:!0,writable:!0})}static overwriteConsole(e,t){["log","debug","info","warn","trace","error"].forEach((n=>{console[n]=(...r)=>t.apply(e,[{log:"silly",trace:"trace",debug:"debug",info:"info",warn:"warn",error:"error"}[n.toLowerCase()],r])}))}static setUtilsInspectStyles(e){Object.entries(e).forEach((([e,t])=>{s.inspect.styles[e]=t}))}static styleString(e,t,n=!0){return n?Object.values(e).reduce(((e,t)=>p._stylizeWithColor(t,e)),t):`${t}`}static _stylizeWithColor(e,t){var n;const r=null!==(n=s.inspect.colors[e])&&void 0!==n?n:[0,0];return`\x1b[${r[0]}m${t}\x1b[${r[1]}m`}static _getCodeFrame(e,t,n,r){var i;const o=t-1;try{const s=null===(i=(0,a.readFileSync)(e,{encoding:"utf-8"}))||void 0===i?void 0:i.split("\n"),u=o-r<0?0:o-r,c=o+r>s.length?s.length:o+r,l={firstLineNumber:u+1,lineNumber:t,columnNumber:n,linesBefore:[],relevantLine:"",linesAfter:[]};for(let e=u;e<o;e++)null!=s[e]&&l.linesBefore.push(s[e]);l.relevantLine=s[o];for(let e=o+1;e<=c;e++)null!=s[e]&&l.linesAfter.push(s[e]);return l}catch(s){}}static lineNumberTo3Char(e){return e<10?`00${e}`:e<100?`0${e}`:`${e}`}static cloneObjectRecursively(e,t,n=[],r=Object.create(Object.getPrototypeOf(e))){return n.push(e),e instanceof Date?new Date(e):Array.isArray(e)?Object.entries(e).map((([e,r])=>null==r||"object"!==typeof r?r:p.cloneObjectRecursively(r,t,n))):(Object.getOwnPropertyNames(e).forEach((i=>{n.includes(e[i])?r[i]=r:null==e[i]?r[i]=e[i]:"object"!==typeof e[i]?r[i]=null!=t?t(i,e[i]):e[i]:r[i]=p.cloneObjectRecursively(e[i],t,n,r[i])})),r)}static logObjectMaskValuesOfKeys(e,t,n){if(!Array.isArray(t)||0===t.length)return e;return null!=e?p.cloneObjectRecursively(e,((e,r)=>t.map((e=>"string"===typeof e?e.toLowerCase():e)).includes("string"===typeof e?e.toLowerCase():e)?n:r)):e}}p.cwdArray=f.cwd().split(o.sep);var g=n(34155);class m{constructor(e,t){var n;this._logLevels=["silly","trace","debug","info","warn","error","fatal"],this._minLevelToStdErr=4,this._mySettings={},this._childLogger=[],this._callSiteWrapper=e=>e,this._parentOrDefaultSettings={type:"pretty",instanceName:void 0,hostname:null!==(n=null===t||void 0===t?void 0:t.hostname)&&void 0!==n?n:(0,i.hostname)(),name:void 0,setCallerAsLoggerName:!1,requestId:void 0,minLevel:"silly",exposeStack:!1,exposeErrorCodeFrame:!0,exposeErrorCodeFrameLinesBeforeAndAfter:5,ignoreStackLevels:3,suppressStdOutput:!1,overwriteConsole:!1,colorizePrettyLogs:!0,logLevelsColors:{0:"whiteBright",1:"white",2:"greenBright",3:"blueBright",4:"yellowBright",5:"redBright",6:"magentaBright"},prettyInspectHighlightStyles:{special:"cyan",number:"green",bigint:"green",boolean:"yellow",undefined:"red",null:"red",string:"red",symbol:"green",date:"magenta",name:"white",regexp:"red",module:"underline"},prettyInspectOptions:{colors:!0,compact:!1,depth:1/0},jsonInspectOptions:{colors:!1,compact:!0,depth:1/0},delimiter:" ",dateTimePattern:void 0,dateTimeTimezone:void 0,prefix:[],maskValuesOfKeys:["password"],maskAnyRegEx:[],maskPlaceholder:"[***]",printLogMessageInNewLine:!1,displayDateTime:!0,displayLogLevel:!0,displayInstanceName:!1,displayLoggerName:!0,displayRequestId:!0,displayFilePath:"hideNodeModulesOnly",displayFunctionName:!0,displayTypes:!1,stdOut:g.stdout,stdErr:g.stderr,attachedTransports:[]};const r=null!=e?e:{};this.setSettings(r,t),p.initErrorToJsonHelper()}get settings(){const e=null!=this._mySettings.prefix?this._mySettings.prefix:[];return{...this._parentOrDefaultSettings,...this._mySettings,prefix:[...this._parentOrDefaultSettings.prefix,...e]}}setSettings(e,t){var n,r,i,o,s,a,u,c,l,h;return this._mySettings={...this._mySettings,...e},null==(null===(n=this.settings.prettyInspectOptions)||void 0===n?void 0:n.colors)&&!0!==(null===(r=this.settings.prettyInspectOptions)||void 0===r?void 0:r.colors)||(this.settings.prettyInspectOptions.colors=this.settings.colorizePrettyLogs),this._mySettings.instanceName=null!==(i=this._mySettings.instanceName)&&void 0!==i?i:this._mySettings.hostname,null==this._mySettings.name&&this._mySettings.setCallerAsLoggerName&&(this._mySettings.name=null!==(l=null!==(a=null===(s=null===(o=p.getCallSites())||void 0===o?void 0:o[0])||void 0===s?void 0:s.getTypeName())&&void 0!==a?a:null===(c=null===(u=p.getCallSites())||void 0===u?void 0:u[0])||void 0===c?void 0:c.getFunctionName())&&void 0!==l?l:void 0),null!=t&&(this._parentOrDefaultSettings={...this._parentOrDefaultSettings,...t}),this._maskAnyRegExp=(null===(h=this.settings.maskAnyRegEx)||void 0===h?void 0:h.length)>0?new RegExp(Object.values(this.settings.maskAnyRegEx).join("|"),"g"):void 0,p.setUtilsInspectStyles(this.settings.prettyInspectHighlightStyles),this.settings.overwriteConsole&&p.overwriteConsole(this,this._handleLog),this._childLogger.forEach((e=>{e.setSettings({},this.settings)})),this.settings}getChildLogger(e){const t={...this.settings,attachedTransports:[...this.settings.attachedTransports]},n=new this.constructor(e,t);return this._childLogger.push(n),n}attachTransport(e,t="silly"){this.settings.attachedTransports.push({minLevel:t,transportLogger:e})}silly(...e){return this._handleLog.apply(this,["silly",e])}trace(...e){return this._handleLog.apply(this,["trace",e,!0])}debug(...e){return this._handleLog.apply(this,["debug",e])}info(...e){return this._handleLog.apply(this,["info",e])}warn(...e){return this._handleLog.apply(this,["warn",e])}error(...e){return this._handleLog.apply(this,["error",e])}fatal(...e){return this._handleLog.apply(this,["fatal",e])}prettyError(e,t=!0,n=!0,r=!0,i=0,o=1/0,s=this.settings.stdErr){const a=this._buildErrorObject(e,n,i,o);return t&&this._printPrettyError(s,a,r),a}_handleLog(e,t,n=this.settings.exposeStack){const r=this._buildLogObject(e,t,n);if(!this.settings.suppressStdOutput&&r.logLevelId>=this._logLevels.indexOf(this.settings.minLevel)){const e=r.logLevelId<this._minLevelToStdErr?this.settings.stdOut:this.settings.stdErr;"pretty"===this.settings.type?this.printPrettyLog(e,r):"json"===this.settings.type&&this._printJsonLog(e,r)}return this.settings.attachedTransports.forEach((t=>{r.logLevelId>=Object.values(this._logLevels).indexOf(t.minLevel)&&t.transportLogger[e](r)})),r}_buildLogObject(e,t,n=!0){const r=p.getCallSites().splice(this.settings.ignoreStackLevels),i=null!=r[0]?this._callSiteWrapper(r[0]):void 0,o=null!=i?p.toStackFrameObject(i):void 0,s=this.settings.requestId instanceof Function?this.settings.requestId():this.settings.requestId,a={instanceName:this.settings.instanceName,loggerName:this.settings.name,hostname:this.settings.hostname,requestId:s,date:new Date,logLevel:e,logLevelId:this._logLevels.indexOf(e),filePath:null===o||void 0===o?void 0:o.filePath,fullFilePath:null===o||void 0===o?void 0:o.fullFilePath,fileName:null===o||void 0===o?void 0:o.fileName,lineNumber:null===o||void 0===o?void 0:o.lineNumber,columnNumber:null===o||void 0===o?void 0:o.columnNumber,isConstructor:null===o||void 0===o?void 0:o.isConstructor,functionName:null===o||void 0===o?void 0:o.functionName,typeName:null===o||void 0===o?void 0:o.typeName,methodName:null===o||void 0===o?void 0:o.methodName,argumentsArray:[],toJSON:()=>this._logObjectToJson(a)};return[...this.settings.prefix,...t].forEach((e=>{null!=e&&"object"===typeof e&&p.isError(e)?a.argumentsArray.push(this._buildErrorObject(e,this.settings.exposeErrorCodeFrame)):a.argumentsArray.push(e)})),n&&(a.stack=this._toStackObjectArray(r)),a}_buildErrorObject(e,t=!0,n=0,r=1/0){var i,o;const s=p.getCallSites(e);n=n>-1?n:0;const a=null!==(i=(null===s||void 0===s?void 0:s.splice)&&s.splice(n))&&void 0!==i?i:[];(r=r>-1?r:0)<1/0&&(a.length=r);const{name:u,...c}=e,l={nativeError:e,details:{...c},name:null!==(o=e.name)&&void 0!==o?o:"Error",isError:!0,message:e.message,stack:this._toStackObjectArray(a)};if(l.stack.length>0){const e=p.toStackFrameObject(this._callSiteWrapper(a[0]));t&&null!=e.lineNumber&&null!=e.fullFilePath&&e.fullFilePath.indexOf("node_modules")<0&&(l.codeFrame=p._getCodeFrame(e.fullFilePath,e.lineNumber,null===e||void 0===e?void 0:e.columnNumber,this.settings.exposeErrorCodeFrameLinesBeforeAndAfter))}return l}_toStackObjectArray(e){return Object.values(e).reduce(((e,t)=>(e.push(p.toStackFrameObject(this._callSiteWrapper(t))),e)),[])}printPrettyLog(e,t){var n,r;if(!0===this.settings.displayDateTime){let i="";if(null!=this.settings.dateTimePattern||null!=this.settings.dateTimeTimezone){const e=null!==(n=this.settings.dateTimePattern)&&void 0!==n?n:"year-month-day hour:minute:second.millisecond",o=null!==(r=this.settings.dateTimeTimezone)&&void 0!==r?r:"utc";i=[...new Intl.DateTimeFormat("en",{weekday:void 0,year:"numeric",month:"2-digit",day:"2-digit",hourCycle:"h23",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:o}).formatToParts(t.date),{type:"millisecond",value:("00"+t.date.getMilliseconds()).slice(-3)}].reduce(((e,t)=>e.replace(t.type,t.value)),e)}else i=(new Date).toISOString().replace("T"," ").replace("Z"," ");e.write(p.styleString(["gray"],`${i}${this.settings.delimiter}`,this.settings.colorizePrettyLogs))}if(this.settings.displayLogLevel){const n=this.settings.logLevelsColors[t.logLevelId];e.write(p.styleString([n,"bold"],t.logLevel.toUpperCase(),this.settings.colorizePrettyLogs)+("info"===t.logLevel?this.settings.delimiter.repeat(2):this.settings.delimiter))}const i=!0===this.settings.displayLoggerName&&null!=t.loggerName?t.loggerName:"",o=!0===this.settings.displayInstanceName&&null!=this.settings.instanceName?`@${this.settings.instanceName}`:"",s=!0===this.settings.displayRequestId&&null!=t.requestId?`:${t.requestId}`:"",a=(i+o+s).length>0?i+o+s:"",u=!0===this.settings.displayFunctionName?t.isConstructor?` ${t.typeName}.constructor`:null!=t.methodName?` ${t.typeName}.${t.methodName}`:null!=t.functionName?` ${t.functionName}`:null!==t.typeName?`${t.typeName}.<anonymous>`:"":"";let c="";("displayAll"===this.settings.displayFilePath||"hideNodeModulesOnly"===this.settings.displayFilePath&&null!=t.filePath&&t.filePath.indexOf("node_modules")<0)&&(c=`${t.filePath}:${t.lineNumber}`);const l=[a,c,u].join(" ").trim();l.length>0&&(e.write(p.styleString(["gray"],`[${l}]`,this.settings.colorizePrettyLogs)),!1===this.settings.printLogMessageInNewLine?e.write(`${this.settings.delimiter}`):e.write("\n")),t.argumentsArray.forEach((t=>{const n=!0===this.settings.displayTypes?p.styleString(["grey","bold"],typeof t+":",this.settings.colorizePrettyLogs)+this.settings.delimiter:"",r=t;null==t?e.write(n+this._inspectAndHideSensitive(t,this.settings.prettyInspectOptions)+" "):"object"===typeof t&&!0===(null===r||void 0===r?void 0:r.isError)?this._printPrettyError(e,r):"object"===typeof t&&!0!==(null===r||void 0===r?void 0:r.isError)?e.write("\n"+n+this._inspectAndHideSensitive(t,this.settings.prettyInspectOptions)):e.write(n+this._formatAndHideSensitive(t,this.settings.prettyInspectOptions)+this.settings.delimiter)})),e.write("\n"),null!=t.stack&&(e.write(p.styleString(["underline","bold"],"log stack:\n",this.settings.colorizePrettyLogs)),this._printPrettyStack(e,t.stack))}_printPrettyError(e,t,n=!0){var r;e.write("\n"+p.styleString(["bgRed","whiteBright","bold"],` ${t.name}${this.settings.delimiter}`,this.settings.colorizePrettyLogs)+(null!=t.message?`${this.settings.delimiter}${this._formatAndHideSensitive(t.message,this.settings.prettyInspectOptions)}`:"")),Object.values(t.details).length>0&&(e.write(p.styleString(["underline","bold"],"\ndetails:",this.settings.colorizePrettyLogs)),e.write("\n"+this._inspectAndHideSensitive(t.details,this.settings.prettyInspectOptions))),!0===n&&(null===(r=null===t||void 0===t?void 0:t.stack)||void 0===r?void 0:r.length)>0&&(e.write(p.styleString(["underline","bold"],"\nerror stack:",this.settings.colorizePrettyLogs)),this._printPrettyStack(e,t.stack)),null!=t.codeFrame&&this._printPrettyCodeFrame(e,t.codeFrame)}_printPrettyStack(e,t){e.write("\n"),Object.values(t).forEach((t=>{var n;e.write(p.styleString(["gray"],"\u2022 ",this.settings.colorizePrettyLogs)),null!=t.fileName&&e.write(p.styleString(["yellowBright"],t.fileName,this.settings.colorizePrettyLogs)),null!=t.lineNumber&&(e.write(p.styleString(["gray"],":",this.settings.colorizePrettyLogs)),e.write(p.styleString(["yellow"],t.lineNumber,this.settings.colorizePrettyLogs))),e.write(p.styleString(["white"]," "+(null!==(n=t.functionName)&&void 0!==n?n:"<anonymous>"),this.settings.colorizePrettyLogs)),null!=t.filePath&&null!=t.lineNumber&&null!=t.columnNumber&&(e.write("\n    "),e.write((0,o.normalize)(p.styleString(["gray"],`${t.filePath}:${t.lineNumber}:${t.columnNumber}`,this.settings.colorizePrettyLogs)))),e.write("\n\n")}))}_printPrettyCodeFrame(e,t){e.write(p.styleString(["underline","bold"],"code frame:\n",this.settings.colorizePrettyLogs));let n=t.firstLineNumber;if(t.linesBefore.forEach((t=>{e.write(`  ${p.lineNumberTo3Char(n)} | ${t}\n`),n++})),e.write(p.styleString(["red"],">",this.settings.colorizePrettyLogs)+" "+p.styleString(["bgRed","whiteBright"],p.lineNumberTo3Char(n),this.settings.colorizePrettyLogs)+" | "+p.styleString(["yellow"],t.relevantLine,this.settings.colorizePrettyLogs)+"\n"),n++,null!=t.columnNumber){const n=new Array(t.columnNumber+8).join(" ")+"^";e.write(p.styleString(["red"],n,this.settings.colorizePrettyLogs)+"\n")}t.linesAfter.forEach((t=>{e.write(`  ${p.lineNumberTo3Char(n)} | ${t}\n`),n++}))}_logObjectToJson(e){return{...e,argumentsArray:e.argumentsArray.map((e=>{const t=e;return"object"===typeof e&&(null===t||void 0===t?void 0:t.isError)?{...t,nativeError:void 0,errorString:this._formatAndHideSensitive(t.nativeError,this.settings.jsonInspectOptions)}:"object"===typeof e?this._inspectAndHideSensitive(e,this.settings.jsonInspectOptions):this._formatAndHideSensitive(e,this.settings.jsonInspectOptions)}))}}_printJsonLog(e,t){e.write(JSON.stringify(t)+"\n")}_inspectAndHideSensitive(e,t){let n;try{const r=this._maskValuesOfKeys(e);n=(0,s.inspect)(r,t)}catch{n=(0,s.inspect)(e,t)}return this._maskAny(n)}_formatAndHideSensitive(e,t,...n){return this._maskAny((0,s.formatWithOptions)(t,e,...n))}_maskValuesOfKeys(e){return p.logObjectMaskValuesOfKeys(e,this.settings.maskValuesOfKeys,this.settings.maskPlaceholder)}_maskAny(e){const t=e;return null!=this._maskAnyRegExp?t.replace(this._maskAnyRegExp,this.settings.maskPlaceholder):t}}class v extends m{constructor(e,t){super(e,t),this._callSiteWrapper=r.wrapCallSite}}}}]);